/*! crm-sdk 1.4.2 | (c) Dynamics Software | MIT license - https://github.com/dys-solutions/crm-sdk/blob/develop/LICENSE */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("CRMSDK.noBabelPolyfill",[],t):"object"==typeof exports?exports["CRMSDK.noBabelPolyfill"]=t():e["CRMSDK.noBabelPolyfill"]=t()}(this,function(){return function(e){function __webpack_require__(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,__webpack_require__),n.l=!0,n.exports}var t={};return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.i=function(e){return e},__webpack_require__.d=function(e,t,r){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=352)}({103:function(e,t,r){"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function step(n,i){try{var o=t[n](i),a=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}return step("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},o=r(67),a=function(e){return e&&e.__esModule?e:{default:e}}(o),u=function(e){function SubEntity(){return _classCallCheck(this,SubEntity),_possibleConstructorReturn(this,(SubEntity.__proto__||Object.getPrototypeOf(SubEntity)).apply(this,arguments))}return _inherits(SubEntity,e),n(SubEntity,null,[{key:"get",value:function(){function get(t,r){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e,t){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",i(SubEntity.__proto__||Object.getPrototypeOf(SubEntity),"get",this).call(this,this.logicalName,e,t));case 1:case"end":return r.stop()}},_callee,this)}));return get}()},{key:"query",value:function(){function query(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i(SubEntity.__proto__||Object.getPrototypeOf(SubEntity),"query",this).call(this,this.logicalName,e));case 1:case"end":return t.stop()}},_callee2,this)}));return query}()},{key:"fetch",value:function(){function fetch(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i(SubEntity.__proto__||Object.getPrototypeOf(SubEntity),"fetch",this).call(this,this.logicalName,e));case 1:case"end":return t.stop()}},_callee3,this)}));return fetch}()}]),SubEntity}(a.default);t.default=u},138:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(67);Object.defineProperty(t,"Entity",{enumerable:!0,get:function(){return _interopRequireDefault(n).default}});var i=r(140);Object.defineProperty(t,"Account",{enumerable:!0,get:function(){return _interopRequireDefault(i).default}});var o=r(141);Object.defineProperty(t,"Systemuser",{enumerable:!0,get:function(){return _interopRequireDefault(o).default}});var a=r(18);Object.defineProperty(t,"WebAPI",{enumerable:!0,get:function(){return _interopRequireDefault(a).default}})},140:function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(103),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=function(e){function Account(){return _classCallCheck(this,Account),_possibleConstructorReturn(this,(Account.__proto__||Object.getPrototypeOf(Account)).apply(this,arguments))}return _inherits(Account,e),n(Account,null,[{key:"getActiveAccounts",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.filters||(e.filters=[]),e.filters.push(this.activeFilter),this.query(e)}},{key:"logicalName",get:function(){return"account"}},{key:"activeFilter",get:function(){return{type:"and",conditions:[{attribute:"statecode",value:0}]}}}]),Account}(o.default);t.default=a},141:function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(103),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=function(e){function Systemuser(){return _classCallCheck(this,Systemuser),_possibleConstructorReturn(this,(Systemuser.__proto__||Object.getPrototypeOf(Systemuser)).apply(this,arguments))}return _inherits(Systemuser,e),n(Systemuser,null,[{key:"getCurrent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.filters||(e.filters=[]),e.filters.push(this.currentFilter),this.get(null,e)}},{key:"logicalName",get:function(){return"systemuser"}},{key:"currentFilter",get:function(){return{type:"and",conditions:[{attribute:"systemuserid",value:this.userId}]}}},{key:"userId",get:function(){var e=window.Xrm.Page.context.getUserId();return e.slice(1,e.length-1)}}]),Systemuser}(o.default);t.default=a},142:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function step(n,i){try{var o=t[n](i),a=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}return step("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(67),o=_interopRequireDefault(i),a=r(33),u=_interopRequireDefault(a),s=function(e){return function(e){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}return _inherits(_class,e),n(_class,null,[{key:"parseResult",value:function(){function parseResult(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var e,t,r,n,i,o,a,u,s,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],l=arguments[1];return regeneratorRuntime.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return e=[],f.next=3,this.getDerivedClass(l);case 3:for(t=f.sent,r=!0,n=!1,i=void 0,f.prev=7,o=c[Symbol.iterator]();!(r=(a=o.next()).done);r=!0)u=a.value,s=new t(u,l),e.push(s);f.next=15;break;case 11:f.prev=11,f.t0=f.catch(7),n=!0,i=f.t0;case 15:f.prev=15,f.prev=16,!r&&o.return&&o.return();case 18:if(f.prev=18,!n){f.next=21;break}throw i;case 21:return f.finish(18);case 22:return f.finish(15);case 23:return f.abrupt("return",e);case 24:case"end":return f.stop()}},_callee,this,[[7,11,15,23],[16,,18,22]])}));return parseResult}()},{key:"getDerivedClass",value:function(){function getDerivedClass(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(e){var t;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(this.derivedClasses||(this.derivedClasses={}),t=this.derivedClasses[e]){r.next=13;break}return r.prev=3,t=function(e){function Derived(){return _classCallCheck(this,Derived),_possibleConstructorReturn(this,(Derived.__proto__||Object.getPrototypeOf(Derived)).apply(this,arguments))}return _inherits(Derived,e),Derived}(o.default),r.next=7,this.addDescriptors(t.prototype,e);case 7:this.derivedClasses[e]=t,r.next=13;break;case 10:throw r.prev=10,r.t0=r.catch(3),r.t0;case 13:return r.abrupt("return",t);case 14:case"end":return r.stop()}},_callee2,this,[[3,10]])}));return getDerivedClass}()},{key:"addDescriptors",value:function(){function addDescriptors(t,r){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(e,t){var r,n,i,o,a,u,s,c,l;return regeneratorRuntime.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,this.getEntityAttributes(t);case 2:r=f.sent,n=!0,i=!1,o=void 0,f.prev=6,a=Object.keys(r)[Symbol.iterator]();case 8:if(n=(u=a.next()).done){f.next=18;break}return s=u.value,c=r[s],f.next=13,this.getDescriptor(c,t);case 13:l=f.sent,l&&Object.defineProperty(e,c.LogicalName,l);case 15:n=!0,f.next=8;break;case 18:f.next=24;break;case 20:f.prev=20,f.t0=f.catch(6),i=!0,o=f.t0;case 24:f.prev=24,f.prev=25,!n&&a.return&&a.return();case 27:if(f.prev=27,!i){f.next=30;break}throw o;case 30:return f.finish(27);case 31:return f.finish(24);case 32:return f.abrupt("return",e);case 33:case"end":return f.stop()}},_callee3,this,[[6,20,24,32],[25,,27,31]])}));return addDescriptors}()},{key:"getDescriptor",value:function(){function getDescriptor(t,r){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(e,t){var r,n,i;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,r=this.getPropertyDescriptor(e.LogicalName),n=null,"Lookup"!==e.AttributeType){o.next=9;break}return o.next=6,this.getNavigationProperty(e.LogicalName,t);case 6:o.t0=o.sent,o.next=10;break;case 9:o.t0=null;case 10:return i=o.t0,r&&r.get&&r.set||(n={}),r&&r.get||(n.get=function(){return this.getAttribute(e.LogicalName,i)}),r&&r.set||(n.set=function(t){this.setAttribute(e.LogicalName,t)}),o.abrupt("return",n);case 17:throw o.prev=17,o.t1=o.catch(0),o.t1;case 20:case"end":return o.stop()}},_callee4,this,[[0,17]])}));return getDescriptor}()},{key:"getPropertyDescriptor",value:function(e){var t=Object.getOwnPropertyDescriptor(this.prototype,e),r=void 0;for(t||(r=Object.getPrototypeOf(this.prototype));!t&&r;)t=Object.getOwnPropertyDescriptor(r,e),r=Object.getPrototypeOf(r);return t}},{key:"getNavigationProperty",value:function(){function getNavigationProperty(t,r){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(e,t){var r,n,i,o,a,s,c,l,f,p,h,y;return regeneratorRuntime.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(r=""+t+e,!this.cachedNavigationProperties[r]){_.next=3;break}return _.abrupt("return",this.cachedNavigationProperties[r]);case 3:return n=void 0,_.prev=4,_.next=7,u.default.getEntityDefinitions(t);case 7:i=_.sent,o=!0,a=!1,s=void 0,_.prev=11,c=i.ManyToOneRelationships[Symbol.iterator]();case 13:if(o=(l=c.next()).done){_.next=21;break}if(f=l.value,p=f.ReferencingAttribute,h=f.ReferencingEntity,y=f.ReferencingEntityNavigationPropertyName,p!==e||h!==t){_.next=18;break}return n=y,_.abrupt("break",21);case 18:o=!0,_.next=13;break;case 21:_.next=27;break;case 23:_.prev=23,_.t0=_.catch(11),a=!0,s=_.t0;case 27:_.prev=27,_.prev=28,!o&&c.return&&c.return();case 30:if(_.prev=30,!a){_.next=33;break}throw s;case 33:return _.finish(30);case 34:return _.finish(27);case 35:_.next=41;break;case 37:throw _.prev=37,_.t1=_.catch(4),console.log(_.t1),_.t1;case 41:return this.cachedNavigationProperties[r]=n,_.abrupt("return",n);case 43:case"end":return _.stop()}},_callee5,this,[[4,37],[11,23,27,35],[28,,30,34]])}));return getNavigationProperty}()},{key:"cachedNavigationProperties",get:function(){return this.navProperties||(this.navProperties={}),this.navProperties}}]),_class}(e)};t.default=s},143:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function step(n,i){try{var o=t[n](i),a=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}return step("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(33),o=_interopRequireDefault(i),a=r(18),u=_interopRequireDefault(a),s=function(e){return function(e){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}return _inherits(_class,e),n(_class,[{key:"create",value:function(){function create(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getClass().create(this.logicalName,this.data));case 1:case"end":return e.stop()}},_callee,this)}));return create}()}],[{key:"create",value:function(){function create(t,r){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(e,t){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.default.getEntityDefinitions(e);case 2:return r=n.sent,console.log("Create "+e),n.next=6,u.default.createEntity(e,t);case 6:return t[r.PrimaryIdAttribute]=n.sent,n.abrupt("return",this.parseResult([t],e).then(function(e){return e[0]}));case 8:case"end":return n.stop()}},_callee2,this)}));return create}()}]),_class}(e)};t.default=s},144:function(e,t,r){"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function step(n,i){try{var o=t[n](i),a=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}return step("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(18),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=function(e){return function(e){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}return _inherits(_class,e),n(_class,[{key:"delete",value:function(){function _delete(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var e,t;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.getPrimaryId();case 2:return e=r.sent,t=this.logicalName,console.log("Delete "+t+" ("+e+")"),r.abrupt("return",o.default.deleteEntity(t,e));case 6:case"end":return r.stop()}},_callee,this)}));return _delete}()}]),_class}(e)};t.default=a},145:function(e,t,r){"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function step(n,i){try{var o=t[n](i),a=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}return step("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(18),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=function(e){return function(e){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}return _inherits(_class,e),n(_class,null,[{key:"fetch",value:function(){function fetch(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.logicalName,r=arguments[1];return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("Fetch "+t+" "+r),n.next=3,o.default.executeFetchXml(t,r);case 3:return e=n.sent,n.abrupt("return",this.parseResult(e.value,t));case 5:case"end":return n.stop()}},_callee,this)}));return fetch}()}]),_class}(e)};t.default=a},146:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function step(n,i){try{var o=t[n](i),a=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}return step("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(33),o=_interopRequireDefault(i),a=r(18),u=_interopRequireDefault(a),s=function(e){return function(e){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}return _inherits(_class,e),n(_class,null,[{key:"get",value:function(){function get(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var e,t,r,n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.logicalName,o=arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.getQueryOptions(a,i);case 2:return e=s.sent,o&&a.filters&&console.log("Get by 'id' does negate filters on query"),console.log("Get "+i+" ("+o+") "+e),s.next=7,u.default.retrieveEntity(i,o,e);case 7:return t=s.sent,r=t.value?t.value:[t],s.next=11,this.parseResult(r,i);case 11:return n=s.sent,s.abrupt("return",n[0]);case 13:case"end":return s.stop()}},_callee,this)}));return get}()},{key:"count",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.logicalName;return u.default.count(e)}},{key:"query",value:function(){function query(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.logicalName,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.getQueryOptions(n,r);case 2:return e=i.sent,console.log("Query "+r),i.next=6,u.default.retrieveMultiple(r,e,this.getHeaders(n));case 6:return t=i.sent,i.abrupt("return",this.parseResult(t.value,r));case 8:case"end":return i.stop()}},_callee2,this)}));return query}()},{key:"getHeaders",value:function(e){var t={};return e.maxpagesize&&(t.Prefer="odata.maxpagesize="+e.maxpagesize),t}},{key:"rewriteFilters",value:function(e){var t={type:"and",conditions:[]};e.filters||(e.filters=[]);var r=!0,n=!1,i=void 0;try{for(var o,a=Object.keys(e)[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var u=o.value;this.queryElements.includes(u)||t.conditions.push({attribute:u.toLowerCase(),operator:"eq",value:e[u]})}}catch(e){n=!0,i=e}finally{try{!r&&a.return&&a.return()}finally{if(n)throw i}}t.conditions.length>0&&e.filters.push(t)}},{key:"rewriteSelect",value:function(){function rewriteSelect(t,r){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(e,t){var r,n,i,a,u,s,c,l,f,p,h,y;return regeneratorRuntime.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(!e.select){_.next=42;break}return _.next=3,this.getEntityAttributes(t);case 3:r=_.sent,n=e.select.slice(),i=!0,a=!1,u=void 0,_.prev=8,s=n[Symbol.iterator]();case 10:if(i=(c=s.next()).done){_.next=28;break}if(l=c.value,f=r[l],p=f&&f.AttributeType,"Lookup"!==p){_.next=23;break}return _.next=16,o.default.getEntityDefinitions(f.Targets[0]);case 16:h=_.sent,y=e.select.indexOf(l),e.select.splice(y,1),e.expand||(e.expand=[]),e.expand.push({attribute:l,select:[h.PrimaryIdAttribute,h.PrimaryNameAttribute]}),_.next=25;break;case 23:if(p){_.next=25;break}throw"Unexisting select field found: "+l;case 25:i=!0,_.next=10;break;case 28:_.next=34;break;case 30:_.prev=30,_.t0=_.catch(8),a=!0,u=_.t0;case 34:_.prev=34,_.prev=35,!i&&s.return&&s.return();case 37:if(_.prev=37,!a){_.next=40;break}throw u;case 40:return _.finish(37);case 41:return _.finish(34);case 42:case"end":return _.stop()}},_callee3,this,[[8,30,34,42],[35,,37,41]])}));return rewriteSelect}()},{key:"getQueryOptions",value:function(){function getQueryOptions(t,r){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(e,t){var r,n,i,o,a,u,s,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"&";return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return this.rewriteFilters(e),l.next=3,this.rewriteSelect(e,t);case 3:return r=[],n=this.parseSelect(e.select),l.next=7,this.parseFilters(e.filters,t);case 7:return i=l.sent,l.next=10,this.parseExpand(e.expand,t);case 10:return o=l.sent,a=this.parseOrders(e.orders),u=this.parseTop(e.top),s=this.parseCount(e.count),i&&r.push(i),n&&r.push(n),o&&r.push(o),a&&r.push(a),u&&r.push(u),s&&r.push(s),l.abrupt("return",r.join(c));case 21:case"end":return l.stop()}},_callee4,this)}));return getQueryOptions}()},{key:"parseExpand",value:function(){function parseExpand(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(){var e,t,r,n,i,o,a,u,s,c,l,f,p,h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],y=arguments[1];return regeneratorRuntime.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(e=null,!(h.length>0)){_.next=59;break}t="",r=!0,n=!1,i=void 0,_.prev=6,o=h[Symbol.iterator]();case 8:if(r=(a=o.next()).done){_.next=44;break}if(u=a.value,""!==t&&(t+=","),"string"!=typeof u){_.next=24;break}return _.prev=12,_.next=15,this.getNavigationProperty(u,y);case 15:s=_.sent,t+=""+s,_.next=22;break;case 19:throw _.prev=19,_.t0=_.catch(12),_.t0;case 22:_.next=41;break;case 24:return _.prev=24,c=u.attribute,_.next=28,this.getNavigationProperty(c,y);case 28:return l=_.sent,_.next=31,this.getEntityAttributes(y);case 31:return f=_.sent,_.next=34,this.getQueryOptions(u,f[c].Targets[0],";");case 34:p=_.sent,t+=l+"("+p+")",_.next=41;break;case 38:throw _.prev=38,_.t1=_.catch(24),_.t1;case 41:r=!0,_.next=8;break;case 44:_.next=50;break;case 46:_.prev=46,_.t2=_.catch(6),n=!0,i=_.t2;case 50:_.prev=50,_.prev=51,!r&&o.return&&o.return();case 53:if(_.prev=53,!n){_.next=56;break}throw i;case 56:return _.finish(53);case 57:return _.finish(50);case 58:e="$expand="+t;case 59:return _.abrupt("return",e);case 60:case"end":return _.stop()}},_callee5,this,[[6,46,50,58],[12,19],[24,38],[51,,53,57]])}));return parseExpand}()},{key:"parseSelect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=null;if(e.length>0){var r="",n=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var s=a.value;""!==r&&(r+=","),r+=""+s}}catch(e){i=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw o}}t="$select="+r}return t}},{key:"parseFilters",value:function(){function parseFilters(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee6(){var e,t,r,n,i,o,a,u,s,c,l,f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],p=arguments[1];return regeneratorRuntime.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(e=null,!(f.length>0)){h.next=39;break}t=[],r=!0,n=!1,i=void 0,h.prev=6,o=f[Symbol.iterator]();case 8:if(r=(a=o.next()).done){h.next=24;break}return u=a.value,s=u.type,c=u.conditions,h.t0=t,h.next=14,this.parseConditions(c,s,p);case 14:if(h.t1=h.sent,h.t0.push.call(h.t0,h.t1),!u.filters){h.next=21;break}return h.next=19,this.parseFilters(u.filters,p);case 19:l=h.sent,t.push(l.substring(8));case 21:r=!0,h.next=8;break;case 24:h.next=30;break;case 26:h.prev=26,h.t2=h.catch(6),n=!0,i=h.t2;case 30:h.prev=30,h.prev=31,!r&&o.return&&o.return();case 33:if(h.prev=33,!n){h.next=36;break}throw i;case 36:return h.finish(33);case 37:return h.finish(30);case 38:e="$filter="+t.join("and");case 39:return h.abrupt("return",e);case 40:case"end":return h.stop()}},_callee6,this,[[6,26,30,38],[31,,33,37]])}));return parseFilters}()},{key:"parseConditions",value:function(){function parseConditions(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee7(){var e,t,r,n,i,o,a,u,s,c,l,f,p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"and",y=arguments[2];return regeneratorRuntime.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return e="",_.next=3,this.getEntityAttributes(y);case 3:for(t=_.sent,r=!0,n=!1,i=void 0,_.prev=7,o=p[Symbol.iterator]();!(r=(a=o.next()).done);r=!0)u=a.value,s=u.operator,c=u.value,l=u.attribute,f=t[l].AttributeType,l="Lookup"===f?"_"+l+"_value":l,s=s||"eq",c="String"===f?"'"+c+"'":""+c,""!==e&&(e+=" "+h+" "),e+=l+" "+s+" "+c;_.next=15;break;case 11:_.prev=11,_.t0=_.catch(7),n=!0,i=_.t0;case 15:_.prev=15,_.prev=16,!r&&o.return&&o.return();case 18:if(_.prev=18,!n){_.next=21;break}throw i;case 21:return _.finish(18);case 22:return _.finish(15);case 23:return _.abrupt("return","("+e+")");case 24:case"end":return _.stop()}},_callee7,this,[[7,11,15,23],[16,,18,22]])}));return parseConditions}()},{key:"parseOrders",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=null;if(e.length>0){var r="",n=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var s=a.value,c=s.attribute,l=s.descending,f=l?"desc":"asc";""!==r&&(r+=","),r+=c+" "+f}}catch(e){i=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw o}}t="$orderby="+r}return t}},{key:"parseTop",value:function(e){var t=null;return e&&(t="$top="+e),t}},{key:"parseCount",value:function(e){var t=null;return!0===e&&(t="$count="+e),t}},{key:"queryElements",get:function(){return["attribute","filters","select","expand","orders","maxpagesize","top","count"]}}]),_class}(e)};t.default=s},147:function(e,t,r){"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function step(n,i){try{var o=t[n](i),a=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}return step("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(18),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=function(e){return function(e){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}return _inherits(_class,e),n(_class,[{key:"save",value:function(){function save(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.isNew();case 2:if(!e.sent){e.next=6;break}return e.abrupt("return",this.create());case 6:if(0===Object.keys(this.changes).length){e.next=8;break}return e.abrupt("return",this.update());case 8:case"end":return e.stop()}},_callee,this)}));return save}()},{key:"update",value:function(){function update(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var e,t,r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=this.changes,n.next=3,this.getPrimaryId();case 3:return t=n.sent,r=this.logicalName,console.log("Update "+r+" ("+t+")"),n.next=8,o.default.updateEntity(r,t,e);case 8:this.changes=null;case 9:case"end":return n.stop()}},_callee2,this)}));return update}()}]),_class}(e)};t.default=a},18:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function step(n,i){try{var o=t[n](i),a=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}return step("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n;Object.defineProperty(t,"__esModule",{value:!0}),t.WebAPI=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),a=r(69),u=_interopRequireDefault(a),s=r(70),c=_interopRequireDefault(s),l=r(51),f=_interopRequireDefault(l),p=r(71),h=_interopRequireDefault(p),y=r(72),_=_interopRequireDefault(y),d=r(73),b=_interopRequireDefault(d),v=r(33),g=_interopRequireDefault(v),m=r(74),w=_interopRequireDefault(m),x=r(75),P=_interopRequireDefault(x),k=r(76),O=_interopRequireDefault(k);void 0===window.Xrm&&void 0!==window.parent.Xrm&&(window.Xrm=window.parent.Xrm);var R=function(e){function WebAPI(){return _classCallCheck(this,WebAPI),_possibleConstructorReturn(this,(WebAPI.__proto__||Object.getPrototypeOf(WebAPI)).apply(this,arguments))}return _inherits(WebAPI,e),o(WebAPI,null,[{key:"getEntityDefinitions",value:function(e){return g.default.getEntityDefinitions(e)}},{key:"getEntitySetName",value:function(){function getEntitySetName(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e){var t;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.getEntityDefinitions(e);case 2:return t=r.sent,r.abrupt("return",t.EntitySetName);case 4:case"end":return r.stop()}},_callee,this)}));return getEntitySetName}()},{key:"parseEntityId",value:function(e){var t=e;if("object"===(void 0===e?"undefined":i(e))){var r=[];for(var n in e)e.hasOwnProperty(n)&&r.push(n+"='"+e[n]+"'");t=r.join(",")}else e.startsWith("{")&&e.endsWith("}")&&(t=t.substr(1,t.length-2));return t}},{key:"buildQueryString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[];if("string"==typeof e)t.push(e);else{if(e.select){var r=void 0;r="object"===i(e.select)?e.select.join(","):e.select,t.push("$select="+r)}e.top&&t.push("$top="+e.top),e.count&&t.push("$count="+e.count)}return t.length?"?"+t.join("&"):""}},{key:"context",get:function(){if(void 0!==window.Xrm)return window.Xrm.Page.context;if(void 0!==window.GetGlobalContext)return window.GetGlobalContext();throw new Error("Context is not available.")}},{key:"webAPIPath",get:function(){return this.context.getClientUrl()+"/api/data/"+this.version}},{key:"version",get:function(){if(!this.api){var e=this.context.getVersion();e||(e=window.parent.Xrm.Page.context.getVersion()),this.version=e.substr(0,3)}return this.api},set:function(e){e.startsWith("v")||(e="v"+e),this.api=e}}]),WebAPI}((0,u.default)((0,c.default)((0,h.default)((0,_.default)((0,b.default)((0,w.default)((0,P.default)((0,O.default)(f.default)))))))));t.WebAPI=R,t.default=R,void 0!==(n=function(){return R}.call(t,r,t,e))&&(e.exports=n)},33:function(e,t,r){"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function step(n,i){try{var o=t[n](i),a=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}return step("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(18),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=function(){function Metadata(){_classCallCheck(this,Metadata)}return n(Metadata,null,[{key:"getEntityDefinitions",value:function(){function getEntityDefinitions(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e){var t,r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.cachedEntityDefinitions[e]){n.next=2;break}return n.abrupt("return",this.cachedEntityDefinitions[e]);case 2:if("string"==typeof e){n.next=4;break}throw Error("Invalid logicalName given");case 4:return n.next=6,o.default.retrieveEntitySet("EntityDefinitions",null,"$filter=LogicalName eq '"+e+"'&$expand=Attributes,ManyToOneRelationships");case 6:return t=n.sent,r=t.value[0],this.cachedEntityDefinitions[e]=r,n.abrupt("return",r);case 10:case"end":return n.stop()}},_callee,this)}));return getEntityDefinitions}()},{key:"getCachedEntityDefinitions",value:function(e){return this.cachedEntityDefinitions[e]}},{key:"cachedEntityDefinitions",get:function(){return this.entityDef||(this.entityDef={}),this.entityDef}}]),Metadata}();t.default=a},352:function(e,t,r){e.exports=r(138)},51:function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function(){function Class(){_classCallCheck(this,Class)}return n(Class,[{key:"getClass",value:function(){return Object.getPrototypeOf(this).constructor}}]),Class}();t.default=i},67:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function step(n,i){try{var o=t[n](i),a=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}return step("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=r(142),a=_interopRequireDefault(o),u=r(51),s=_interopRequireDefault(u),c=r(143),l=_interopRequireDefault(c),f=r(144),p=_interopRequireDefault(f),h=r(145),y=_interopRequireDefault(h),_=r(33),d=_interopRequireDefault(_),b=r(146),v=_interopRequireDefault(b),g=r(147),m=_interopRequireDefault(g),w=r(18),x=_interopRequireDefault(w),P=function(e){function Entity(e,t){_classCallCheck(this,Entity);var r=_possibleConstructorReturn(this,(Entity.__proto__||Object.getPrototypeOf(Entity)).apply(this,arguments));return r.data=e,r.logicalName=t||r.getClass().logicalName,r}return _inherits(Entity,e),i(Entity,[{key:"isNew",value:function(){function isNew(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getPrimaryId();case 2:return e=t.sent,t.abrupt("return",!e);case 4:case"end":return t.stop()}},_callee,this)}));return isNew}()},{key:"getEntityMetadata",value:function(){function getEntityMetadata(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.default.getEntityDefinitions(this.logicalName);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},_callee2,this)}));return getEntityMetadata}()},{key:"getPrimaryIdAttribute",value:function(){function getPrimaryIdAttribute(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getEntityMetadata();case 2:return e=t.sent,t.abrupt("return",e.PrimaryIdAttribute);case 4:case"end":return t.stop()}},_callee3,this)}));return getPrimaryIdAttribute}()},{key:"getPrimaryId",value:function(){function getPrimaryId(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getPrimaryIdAttribute();case 2:return e=t.sent,t.abrupt("return",this.data[e]);case 4:case"end":return t.stop()}},_callee4,this)}));return getPrimaryId}()},{key:"getAttribute",value:function(e,t){var r=this.data[t||e];if(r&&t){var n=this.getClass().getCachedEntityAttributes(this.logicalName),i=n[e],o=d.default.getCachedEntityDefinitions(i.Targets[0]);if(o){var a=o.SchemaName,u=o.PrimaryIdAttribute,s=o.PrimaryNameAttribute;r.LogicalName=a,r.Id=r[u],r.Name=r[s]}}return r}},{key:"setAttribute",value:function(e,t){var r=this.getClass().getCachedEntityAttributes(this.logicalName),i=r&&r[e];if(i||e.endsWith("@odata.bind"))if(i&&"Lookup"===i.AttributeType&&"object"!==(void 0===t?"undefined":n(t))){var o=this.logicalName;console.log(o+" attribute "+e+" is a Lookup. Use "+this.logicalName+".bind('"+e+"', '"+t+"') instead.")}else{var a=this.data[e];a!==t&&(this.data[e]=t,this.changes[e]=t)}else{var u=this.logicalName;console.log(u+" has no attribute '"+e+"'")}}},{key:"bind",value:function(){function bind(t,r){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(e,t){var r,n,i,o,a,u,s,c;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.getClass().getEntityAttributes(this.logicalName);case 2:if(r=l.sent,n=r[e],"Lookup"!==n.AttributeType){l.next=18;break}return i=x.default.webAPIPath,o=n.Targets[0],l.next=9,d.default.getEntityDefinitions(o);case 9:return a=l.sent,l.next=12,Entity.getNavigationProperty(e,this.logicalName);case 12:return u=l.sent,s=a.EntitySetName,c=i+"/"+s+"("+t+")",this.setAttribute(u+"@odata.bind",c),l.next=18,this.updateBinding(e,o,t);case 18:case"end":return l.stop()}},_callee5,this)}));return bind}()},{key:"updateBinding",value:function(){function updateBinding(t,r,n){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee6(e,t,r){var n,i,o=this;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(n=this.getAttribute(e)){a.next=3;break}return a.abrupt("return");case 3:return i=Object.keys(n).filter(function(e){return!["Id","LogicalName","Name"].includes(e)}),a.next=6,Entity.get(t,r,{select:i}).then(function(t){var r=!0,a=!1,u=void 0;try{for(var s,c=i[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var l=s.value;n[l]=t[l]}}catch(e){a=!0,u=e}finally{try{!r&&c.return&&c.return()}finally{if(a)throw u}}o.setAttribute(e,n)});case 6:case"end":return a.stop()}},_callee6,this)}));return updateBinding}()},{key:"logicalName",get:function(){return this.logicName},set:function(e){this.logicName=e}},{key:"data",get:function(){return this.dat},set:function(e){this.dat=e}},{key:"changes",get:function(){return this.chngs||(this.chngs={}),this.chngs},set:function(e){this.chngs=e||{}}}],[{key:"getEntityAttributes",value:function(){function getEntityAttributes(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee7(){var e,t,r,n,i,o,a,u,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.logicalName;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(this.cachedEntityAttributes||(this.cachedEntityAttributes={}),!this.cachedEntityAttributes[s]){c.next=5;break}return c.abrupt("return",this.cachedEntityAttributes[s]);case 5:return c.prev=5,c.next=8,d.default.getEntityDefinitions(s);case 8:for(e=c.sent,t={},r=!0,n=!1,i=void 0,c.prev=13,o=e.Attributes[Symbol.iterator]();!(r=(a=o.next()).done);r=!0)u=a.value,t[u.LogicalName]=u;c.next=21;break;case 17:c.prev=17,c.t0=c.catch(13),n=!0,i=c.t0;case 21:c.prev=21,c.prev=22,!r&&o.return&&o.return();case 24:if(c.prev=24,!n){c.next=27;break}throw i;case 27:return c.finish(24);case 28:return c.finish(21);case 29:return this.cachedEntityAttributes[s]=t,c.abrupt("return",t);case 33:throw c.prev=33,c.t1=c.catch(5),c.t1;case 36:case"end":return c.stop()}},_callee7,this,[[5,33],[13,17,21,29],[22,,24,28]])}));return getEntityAttributes}()},{key:"getCachedEntityAttributes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.logicalName;return this.cachedEntityAttributes||(this.cachedEntityAttributes={}),this.cachedEntityAttributes[e]}}]),Entity}((0,a.default)((0,l.default)((0,p.default)((0,y.default)((0,v.default)((0,m.default)(s.default)))))));t.default=P},68:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["DELETE","GET","PATCH","POST","PUT"],i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",r=arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Promise(function(o,u){var s=new XMLHttpRequest;if(-1===n.indexOf(t))throw new Error("Request method must be one of the following: "+n.join(", "));s.open(t,encodeURI(e),!0),s.setRequestHeader("OData-MaxVersion","4.0"),s.setRequestHeader("OData-Version","4.0"),s.setRequestHeader("Accept","application/json"),s.setRequestHeader("Content-Type","application/json; charset=utf-8");for(var c in i)s.setRequestHeader(c,i[c]);s.onreadystatechange=function(){if(4===s.readyState){s.onreadystatechange=null;try{var e=a(s);o(e)}catch(e){u(e)}}};var l=null;r&&(l=JSON.stringify(r)),s.send(l)})},o=function(e,t){if("string"==typeof t){var r=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?::(\d*))?Z$/.exec(t);if(r)return new Date(Date.UTC(+r[1],+r[2]-1,+r[3],+r[4],+r[5],+r[6],+r[7]||0))}return t},a=function(e){var t={200:function(){var t=null;try{t=JSON.parse(e.response,o)}catch(e){throw new Error("JSON response can't be parsed")}return{body:t,getResponseHeader:e.getResponseHeader.bind(e),statusCode:e.status}},204:function(){return{body:null,getResponseHeader:e.getResponseHeader.bind(e),statusCode:e.status}}},r=t[e.status];if(r)return r();throw new Error("Unexpected Error")};t.default=i},69:function(e,t,r){"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function step(n,i){try{var o=t[n](i),a=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}return step("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function(e){return function(e){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}return _inherits(_class,e),n(_class,null,[{key:"executeAction",value:function(){function executeAction(t,r,n,i){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e,t,r,n){var i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=4;break}return e.abrupt("return",this.executeBoundAction.apply(this,i));case 4:return e.abrupt("return",this.executeUnboundAction.apply(this,i));case 5:case"end":return e.stop()}},_callee,this)}));return executeAction}()},{key:"executeBoundAction",value:function(){function executeBoundAction(t,r,n,i){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(e,t,r,n){var i;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.getEntitySetName(r);case 2:return i=o.sent,o.abrupt("return",this.requestAndReturnBody("POST",i+"("+n+")/Microsoft.Dynamics.CRM."+e,t));case 4:case"end":return o.stop()}},_callee2,this)}));return executeBoundAction}()},{key:"executeUnboundAction",value:function(e,t){return this.requestAndReturnBody("POST",""+e,t)}}]),_class}(e)};t.default=i},70:function(e,t,r){"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function step(n,i){try{var o=t[n](i),a=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}return step("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function(e){return function(e){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}return _inherits(_class,e),n(_class,null,[{key:"associateEntities",value:function(){function associateEntities(t,r,n,i,o){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e,t,r,n,i){var o,a,u;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.getEntitySetName(e);case 2:return o=s.sent,a=this.webAPIPath,u={"@odata.id":a+"/"+n+"("+i+")"},s.abrupt("return",this.requestAndReturnBody("POST",o+"("+t+")/"+r+"/$ref",u));case 6:case"end":return s.stop()}},_callee,this)}));return associateEntities}()},{key:"disassociateEntities",value:function(){function disassociateEntities(t,r,n,i){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(e,t,r,n){var i;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.getEntitySetName(e);case 2:return i=o.sent,o.abrupt("return",this.requestAndReturnBody("DELETE",i+"("+t+")/"+r+"("+n+")/$ref"));case 4:case"end":return o.stop()}},_callee2,this)}));return disassociateEntities}()}]),_class}(e)};t.default=i},71:function(e,t,r){"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function step(n,i){try{var o=t[n](i),a=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}return step("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function(e){return function(e){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}return _inherits(_class,e),n(_class,null,[{key:"createEntity",value:function(){function createEntity(t,r){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e,t){var r,n;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.getEntitySetName(e);case 2:return r=i.sent,i.next=5,this.requestAndReturnHeader("POST",r,t,"OData-EntityId");case 5:if(!(n=i.sent)){i.next=8;break}return i.abrupt("return",this.getEntityIdFromHeader(n));case 8:case"end":return i.stop()}},_callee,this)}));return createEntity}()},{key:"getEntityIdFromHeader",value:function(e){return/\(([^)]+)\)/.exec(e)[1]}}]),_class}(e)};t.default=i},72:function(e,t,r){"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function step(n,i){try{var o=t[n](i),a=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}return step("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function(e){return function(e){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}return _inherits(_class,e),n(_class,null,[{key:"deleteEntity",value:function(){function deleteEntity(t,r){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e,t){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.getEntitySetName(e);case 2:return r=n.sent,n.abrupt("return",this.request("DELETE",r+"("+t+")"));case 4:case"end":return n.stop()}},_callee,this)}));return deleteEntity}()}]),_class}(e)};t.default=i},73:function(e,t,r){"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function step(n,i){try{var o=t[n](i),a=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}return step("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function(e){return function(e){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}return _inherits(_class,e),n(_class,null,[{key:"executeFunction",value:function(e,t,r){return t?this.executeBoundFunction.apply(this,arguments):this.executeUnboundFunction.apply(this,arguments)}},{key:"executeBoundFunction",value:function(){function executeBoundFunction(t,r,n){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e,t,r){var n;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.getEntitySetName(t);case 2:return n=i.sent,i.abrupt("return",this.requestAndReturnBody("GET",n+"("+r+")/Microsoft.Dynamics.CRM."+e));case 4:case"end":return i.stop()}},_callee,this)}));return executeBoundFunction}()},{key:"executeUnboundFunction",value:function(e){return this.requestAndReturnBody("GET",""+e)}}]),_class}(e)};t.default=i},74:function(e,t,r){"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function step(n,i){try{var o=t[n](i),a=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}return step("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function(e){return function(e){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}return _inherits(_class,e),n(_class,null,[{key:"retrieveEntity",value:function(){function retrieveEntity(t,r,n,i){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e,t,r,n){var i;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.getEntitySetName(e);case 2:return i=o.sent,o.abrupt("return",this.retrieveEntitySet(i,t,r,n));case 4:case"end":return o.stop()}},_callee,this)}));return retrieveEntity}()},{key:"retrieveEntitySet",value:function(e,t,r,n){var i=this.buildQueryString(r),o=t?this.parseEntityId(t):null,a=""+e;return o&&(a+="("+o+")"),a+=""+i,this.requestAndReturnBody("GET",a,null,n)}},{key:"retrieveMultiple",value:function(){function retrieveMultiple(t,r,n){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(e,t,r){var n,i,o=this;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.getEntitySetName(e);case 2:return n=a.sent,i=this.buildQueryString(t),a.abrupt("return",this.requestAndReturnBody("GET",""+n+i,null,r).then(function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(e){var t,n;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(t=r&&r.Prefer&&r.Prefer.includes("odata.maxpagesize"),!e["@odata.nextLink"]||t){i.next=7;break}return i.next=4,o.requestNextLinks(e["@odata.nextLink"]);case 4:n=i.sent,e.value=e.value.concat(n),delete e["@odata.nextLink"];case 7:return i.abrupt("return",e);case 8:case"end":return i.stop()}},_callee2,o)}));return function(t){return e.apply(this,arguments)}}()));case 5:case"end":return a.stop()}},_callee3,this)}));return retrieveMultiple}()},{key:"requestNextLinks",value:function(e){var t=this,r=[];return this.requestAndReturnBody("GET",decodeURI(e)).then(function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(e){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.value,!e["@odata.nextLink"]){n.next=7;break}return n.t0=r,n.next=5,t.requestNextLinks(e["@odata.nextLink"]);case 5:n.t1=n.sent,r=n.t0.concat.call(n.t0,n.t1);case 7:return n.abrupt("return",r);case 8:case"end":return n.stop()}},_callee4,t)}));return function(t){return e.apply(this,arguments)}}())}},{key:"executeFetchXml",value:function(){function executeFetchXml(t,r){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee6(e,t){var r,n=this;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.getEntitySetName(e);case 2:return r=i.sent,i.abrupt("return",this.requestAndReturnBody("GET",r+"?fetchXml="+t).then(function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(e){var t;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!e["@odata.nextLink"]){r.next=6;break}return r.next=3,n.requestNextLinks(e["@odata.nextLink"]);case 3:t=r.sent,e.value=e.value.concat(t),delete e["@odata.nextLink"];case 6:return r.abrupt("return",e);case 7:case"end":return r.stop()}},_callee5,n)}));return function(t){return e.apply(this,arguments)}}()));case 4:case"end":return i.stop()}},_callee6,this)}));return executeFetchXml}()},{key:"count",value:function(){function count(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee7(e){var t,r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.getEntitySetName(e);case 2:return t=n.sent,n.next=5,this.requestAndReturnBody("GET",t+"/$count");case 5:return r=n.sent,n.abrupt("return",r);case 7:case"end":return n.stop()}},_callee7,this)}));return count}()}]),_class}(e)};t.default=i},75:function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(68),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=function(e){return function(e){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}return _inherits(_class,e),n(_class,null,[{key:"request",value:function(e,t,r,n){var i=this.webAPIPath,a=void 0;return a=0===t.indexOf("http")?t:i+"/"+t,(0,o.default)(a,e,r,n)}},{key:"requestAndReturnBody",value:function(e,t,r,n){return this.request(e,t,r,n).then(function(e){return e.body})}},{key:"requestAndReturnHeader",value:function(e,t,r,n){return this.request(e,t,r).then(function(e){return e.getResponseHeader(n)})}}]),_class}(e)};t.default=a},76:function(e,t,r){"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function step(n,i){try{var o=t[n](i),a=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}return step("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function(e){return function(e){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}return _inherits(_class,e),n(_class,null,[{key:"updateEntity",value:function(){function updateEntity(t,r,n){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e,t,r){var n;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.getEntitySetName(e);case 2:return n=i.sent,i.abrupt("return",this.request("PATCH",n+"("+t+")",r));case 4:case"end":return i.stop()}},_callee,this)}));return updateEntity}()}]),_class}(e)};t.default=i}})});