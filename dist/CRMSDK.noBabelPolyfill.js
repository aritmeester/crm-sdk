/*! crm-sdk 1.6.2 | (c) Dynamics Software | MIT license - https://github.com/dys-solutions/crm-sdk/blob/develop/LICENSE */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("CRMSDK.noBabelPolyfill",[],t):"object"==typeof exports?exports["CRMSDK.noBabelPolyfill"]=t():e["CRMSDK.noBabelPolyfill"]=t()}(this,function(){return function(e){function __webpack_require__(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,__webpack_require__),n.l=!0,n.exports}var t={};return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.i=function(e){return e},__webpack_require__.d=function(e,t,r){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=351)}({138:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(66);Object.defineProperty(t,"Entity",{enumerable:!0,get:function(){return _interopRequireDefault(n).default}});var o=r(141);Object.defineProperty(t,"Account",{enumerable:!0,get:function(){return _interopRequireDefault(o).default}});var i=r(142);Object.defineProperty(t,"Annotation",{enumerable:!0,get:function(){return _interopRequireDefault(i).default}});var a=r(143);Object.defineProperty(t,"Systemuser",{enumerable:!0,get:function(){return _interopRequireDefault(a).default}});var u=r(18);Object.defineProperty(t,"WebAPI",{enumerable:!0,get:function(){return _interopRequireDefault(u).default}})},140:function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=function(){function Base64(){_classCallCheck(this,Base64)}return n(Base64,[{key:"decode",value:function(e){return this.getClass().decode(e)}},{key:"encode",value:function(e){return this.getClass().encode(e)}},{key:"blob",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:512;return this.getClass().blob(e,t,r)}},{key:"decodeBlob",value:function(e){return this.getClass().decodeBlob(e)}}],[{key:"decode",value:function(e){return decodeURIComponent(Array.prototype.map.call(window.atob(e),function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""))}},{key:"encode",value:function(e){return window.btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode("0x"+t)}))}},{key:"blob",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:512,n=e.replace(/\s/g,""),o=atob(n),i=[],a=void 0,u=void 0,s=void 0,c=void 0,l=void 0,f=void 0;for(a=0;a<o.length;a+=r){for(u=o.slice(a,a+r),s=new Array(u.length),c=0;c<u.length;c+=1)s[c]=u.charCodeAt(c);l=new Uint8Array(s),i.push(l)}try{f=new Blob(i,{type:t})}catch(e){if(window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,"TypeError"===e.name&&window.BlobBuilder){var p=new window.BlobBuilder;for(a=0;a<i.length;a+=1)p.append(i[a].buffer);f=p.getBlob(t)}else{if("InvalidStateError"!==e.name)return null;f=new Blob(i,{type:t})}}return f}},{key:"decodeBlob",value:function(e){return new Promise(function(t,r){var n=new window.FileReader;n.onload=function(e){var r=e.target.result;r.includes("base64,")&&(r=r.substr(r.indexOf("base64,")+"base64,".length)),t(r)},n.onerror=function(e){r(e)},n.readAsDataURL(e)})}}]),Base64}();t.default=o},141:function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=r(67),i=function(e){return e&&e.__esModule?e:{default:e}}(o),a=function(e){function Account(){return _classCallCheck(this,Account),_possibleConstructorReturn(this,(Account.__proto__||Object.getPrototypeOf(Account)).apply(this,arguments))}return _inherits(Account,e),n(Account,null,[{key:"getActiveAccounts",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.filters||(e.filters=[]),e.filters.push(this.activeFilter),this.query(e)}},{key:"logicalName",get:function(){return"account"}},{key:"activeFilter",get:function(){return{type:"and",conditions:[{attribute:"statecode",value:0}]}}}]),Account}(i.default);t.default=a},142:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function step(n,o){try{var i=t[n](o),a=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}return step("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=r(140),i=_interopRequireDefault(o),a=r(67),u=_interopRequireDefault(a),s=function(e){function Annotation(){return _classCallCheck(this,Annotation),_possibleConstructorReturn(this,(Annotation.__proto__||Object.getPrototypeOf(Annotation)).apply(this,arguments))}return _inherits(Annotation,e),n(Annotation,[{key:"parseFile",value:function(){function parseFile(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.getClass().parseFile(e));case 1:case"end":return t.stop()}},_callee,this)}));return parseFile}()},{key:"parseAnnotation",value:function(){function parseAnnotation(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.getClass().parseAnnotation(e));case 1:case"end":return t.stop()}},_callee2,this)}));return parseAnnotation}()}],[{key:"parseFile",value:function(){function parseFile(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(e){var t,r,n;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.documentbody,r=e.mimetype,n=i.default.blob(t,r),n.name=e.filename,o.abrupt("return",n);case 3:case"end":return o.stop()}},_callee3,this)}));return parseFile}()},{key:"parseAnnotation",value:function(){function parseAnnotation(t,r){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(e,t){var r,n,o,a,u;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(t){s.next=2;break}throw new Error("No accountid specified!");case 2:return s.next=4,i.default.decodeBlob(e);case 4:return r=s.sent,n=e.name,o=e.type,a=new this({filename:n,mimetype:o,documentbody:r}),u=t.startsWith("{")&&t.endsWith("}")?t.substr(1,t.length-2):t,s.prev=8,s.next=11,a.bind("objectid",u,"account");case 11:return s.abrupt("return",a);case 14:throw s.prev=14,s.t0=s.catch(8),s.t0;case 17:case"end":return s.stop()}},_callee4,this,[[8,14]])}));return parseAnnotation}()},{key:"logicalName",get:function(){return"annotation"}}]),Annotation}(u.default);t.default=s},143:function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=r(67),i=function(e){return e&&e.__esModule?e:{default:e}}(o),a=function(e){function Systemuser(){return _classCallCheck(this,Systemuser),_possibleConstructorReturn(this,(Systemuser.__proto__||Object.getPrototypeOf(Systemuser)).apply(this,arguments))}return _inherits(Systemuser,e),n(Systemuser,null,[{key:"getCurrent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.filters||(e.filters=[]),e.filters.push(this.currentFilter),this.get(null,e)}},{key:"logicalName",get:function(){return"systemuser"}},{key:"currentFilter",get:function(){return{type:"and",conditions:[{attribute:"systemuserid",value:this.userId}]}}},{key:"userId",get:function(){var e=window.Xrm.Page.context.getUserId();return e.slice(1,e.length-1)}}]),Systemuser}(i.default);t.default=a},144:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function step(n,o){try{var i=t[n](o),a=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}return step("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=r(66),i=_interopRequireDefault(o),a=r(32),u=_interopRequireDefault(a),s=function(e){return function(e){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}return _inherits(_class,e),n(_class,null,[{key:"parseResult",value:function(){function parseResult(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var e,t,r,n,o,i,a,u,s,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],l=arguments[1];return regeneratorRuntime.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return e=[],f.next=3,this.getDerivedClass(l);case 3:for(t=f.sent,r=!0,n=!1,o=void 0,f.prev=7,i=c[Symbol.iterator]();!(r=(a=i.next()).done);r=!0)u=a.value,s=new t(u,l),e.push(s);f.next=15;break;case 11:f.prev=11,f.t0=f.catch(7),n=!0,o=f.t0;case 15:f.prev=15,f.prev=16,!r&&i.return&&i.return();case 18:if(f.prev=18,!n){f.next=21;break}throw o;case 21:return f.finish(18);case 22:return f.finish(15);case 23:return f.abrupt("return",e);case 24:case"end":return f.stop()}},_callee,this,[[7,11,15,23],[16,,18,22]])}));return parseResult}()},{key:"getDerivedClass",value:function(){function getDerivedClass(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(e){var t;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(this.derivedClasses||(this.derivedClasses={}),t=this.derivedClasses[e]){r.next=13;break}return r.prev=3,t=function(e){function Derived(){return _classCallCheck(this,Derived),_possibleConstructorReturn(this,(Derived.__proto__||Object.getPrototypeOf(Derived)).apply(this,arguments))}return _inherits(Derived,e),Derived}(i.default),r.next=7,this.addDescriptors(t.prototype,e);case 7:this.derivedClasses[e]=t,r.next=13;break;case 10:throw r.prev=10,r.t0=r.catch(3),r.t0;case 13:return r.abrupt("return",t);case 14:case"end":return r.stop()}},_callee2,this,[[3,10]])}));return getDerivedClass}()},{key:"addDescriptors",value:function(){function addDescriptors(t,r){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(e,t){var r,n,o,i,a,u,s,c,l;return regeneratorRuntime.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,this.getEntityAttributes(t);case 2:r=f.sent,n=!0,o=!1,i=void 0,f.prev=6,a=Object.keys(r)[Symbol.iterator]();case 8:if(n=(u=a.next()).done){f.next=18;break}return s=u.value,c=r[s],f.next=13,this.getDescriptor(c,t);case 13:l=f.sent,l&&Object.defineProperty(e,c.LogicalName,l);case 15:n=!0,f.next=8;break;case 18:f.next=24;break;case 20:f.prev=20,f.t0=f.catch(6),o=!0,i=f.t0;case 24:f.prev=24,f.prev=25,!n&&a.return&&a.return();case 27:if(f.prev=27,!o){f.next=30;break}throw i;case 30:return f.finish(27);case 31:return f.finish(24);case 32:return f.abrupt("return",e);case 33:case"end":return f.stop()}},_callee3,this,[[6,20,24,32],[25,,27,31]])}));return addDescriptors}()},{key:"getDescriptor",value:function(){function getDescriptor(t,r){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(e,t){var r,n,o;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,r=this.getPropertyDescriptor(e.LogicalName),n=null,"Lookup"!==e.AttributeType){i.next=9;break}return i.next=6,this.getNavigationProperty(e.LogicalName,t);case 6:i.t0=i.sent,i.next=10;break;case 9:i.t0=null;case 10:return o=i.t0,r&&r.get&&r.set||(n={}),r&&r.get||(n.get=function(){return this.getAttribute(e.LogicalName,o)}),r&&r.set||(n.set=function(t){this.setAttribute(e.LogicalName,t)}),i.abrupt("return",n);case 17:throw i.prev=17,i.t1=i.catch(0),i.t1;case 20:case"end":return i.stop()}},_callee4,this,[[0,17]])}));return getDescriptor}()},{key:"getPropertyDescriptor",value:function(e){var t=Object.getOwnPropertyDescriptor(this.prototype,e),r=void 0;for(t||(r=Object.getPrototypeOf(this.prototype));!t&&r;)t=Object.getOwnPropertyDescriptor(r,e),r=Object.getPrototypeOf(r);return t}},{key:"getNavigationProperty",value:function(){function getNavigationProperty(t,r){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(e,t){var r,n,o,i,a,s,c,l,f,p,h,y,d,b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return regeneratorRuntime.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(r=""+t+e+b,!this.cachedNavigationProperties[r]){_.next=3;break}return _.abrupt("return",this.cachedNavigationProperties[r]);case 3:return n=void 0,_.prev=4,_.next=7,u.default.getEntityDefinitions(t);case 7:o=_.sent,i=!0,a=!1,s=void 0,_.prev=11,c=o.ManyToOneRelationships[Symbol.iterator]();case 13:if(i=(l=c.next()).done){_.next=22;break}if(f=l.value,p=f.ReferencingAttribute,h=f.ReferencingEntity,y=f.ReferencedEntity,d=f.ReferencingEntityNavigationPropertyName,p!==e||h!==t){_.next=19;break}if(!(n=b&&y!==b?null:d)){_.next=19;break}return _.abrupt("break",22);case 19:i=!0,_.next=13;break;case 22:_.next=28;break;case 24:_.prev=24,_.t0=_.catch(11),a=!0,s=_.t0;case 28:_.prev=28,_.prev=29,!i&&c.return&&c.return();case 31:if(_.prev=31,!a){_.next=34;break}throw s;case 34:return _.finish(31);case 35:return _.finish(28);case 36:_.next=42;break;case 38:throw _.prev=38,_.t1=_.catch(4),console.log(_.t1),_.t1;case 42:return this.cachedNavigationProperties[r]=n,_.abrupt("return",n);case 44:case"end":return _.stop()}},_callee5,this,[[4,38],[11,24,28,36],[29,,31,35]])}));return getNavigationProperty}()},{key:"cachedNavigationProperties",get:function(){return this.navProperties||(this.navProperties={}),this.navProperties}}]),_class}(e)};t.default=s},145:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function step(n,o){try{var i=t[n](o),a=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}return step("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=r(32),i=_interopRequireDefault(o),a=r(18),u=_interopRequireDefault(a),s=function(e){return function(e){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}return _inherits(_class,e),n(_class,[{key:"create",value:function(){function create(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getClass().create(this.logicalName,this.data));case 1:case"end":return e.stop()}},_callee,this)}));return create}()}],[{key:"create",value:function(){function create(t,r){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(e,t){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.default.getEntityDefinitions(e);case 2:return r=n.sent,console.log("Create "+e),n.next=6,u.default.createEntity(e,t);case 6:return t[r.PrimaryIdAttribute]=n.sent,n.abrupt("return",this.parseResult([t],e).then(function(e){return e[0]}));case 8:case"end":return n.stop()}},_callee2,this)}));return create}()}]),_class}(e)};t.default=s},146:function(e,t,r){"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function step(n,o){try{var i=t[n](o),a=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}return step("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=r(18),i=function(e){return e&&e.__esModule?e:{default:e}}(o),a=function(e){return function(e){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}return _inherits(_class,e),n(_class,[{key:"delete",value:function(){function _delete(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var e,t;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.getPrimaryId();case 2:return e=r.sent,t=this.logicalName,console.log("Delete "+t+" ("+e+")"),r.abrupt("return",i.default.deleteEntity(t,e));case 6:case"end":return r.stop()}},_callee,this)}));return _delete}()}]),_class}(e)};t.default=a},147:function(e,t,r){"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function step(n,o){try{var i=t[n](o),a=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}return step("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=r(18),i=function(e){return e&&e.__esModule?e:{default:e}}(o),a=function(e){return function(e){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}return _inherits(_class,e),n(_class,null,[{key:"fetch",value:function(){function fetch(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.logicalName,r=arguments[1];return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("Fetch "+t+" "+r),n.next=3,i.default.executeFetchXml(t,r);case 3:return e=n.sent,n.abrupt("return",this.parseResult(e.value,t));case 5:case"end":return n.stop()}},_callee,this)}));return fetch}()}]),_class}(e)};t.default=a},148:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function step(n,o){try{var i=t[n](o),a=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}return step("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=r(32),i=_interopRequireDefault(o),a=r(18),u=_interopRequireDefault(a),s=function(e){return function(e){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}return _inherits(_class,e),n(_class,null,[{key:"get",value:function(){function get(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var e,t,r,n,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.logicalName,i=arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.getQueryOptions(a,o);case 2:return e=s.sent,i&&a.filters&&console.log("Get by 'id' does negate filters on query"),console.log("Get "+o+" ("+i+") "+e),s.next=7,u.default.retrieveEntity(o,i,e);case 7:return t=s.sent,r=t.value?t.value:[t],s.next=11,this.parseResult(r,o);case 11:return n=s.sent,s.abrupt("return",n[0]);case 13:case"end":return s.stop()}},_callee,this)}));return get}()},{key:"count",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.logicalName;return u.default.count(e)}},{key:"query",value:function(){function query(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.logicalName,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.getQueryOptions(n,r);case 2:return e=o.sent,console.log("Query "+r),o.next=6,u.default.retrieveMultiple(r,e,this.getHeaders(n));case 6:return t=o.sent,o.abrupt("return",this.parseResult(t.value,r));case 8:case"end":return o.stop()}},_callee2,this)}));return query}()},{key:"getHeaders",value:function(e){var t={};return e.maxpagesize&&(t.Prefer="odata.maxpagesize="+e.maxpagesize),t}},{key:"rewriteFilters",value:function(e){var t={type:"and",conditions:[]};e.filters||(e.filters=[]);var r=!0,n=!1,o=void 0;try{for(var i,a=Object.keys(e)[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var u=i.value;this.queryElements.includes(u)||t.conditions.push({attribute:u.toLowerCase(),operator:"eq",value:e[u]})}}catch(e){n=!0,o=e}finally{try{!r&&a.return&&a.return()}finally{if(n)throw o}}t.conditions.length>0&&e.filters.push(t)}},{key:"rewriteSelect",value:function(){function rewriteSelect(t,r){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(e,t){var r,n,o,a,u,s,c,l,f,p,h,y;return regeneratorRuntime.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(!e.select){d.next=42;break}return d.next=3,this.getEntityAttributes(t);case 3:r=d.sent,n=e.select.slice(),o=!0,a=!1,u=void 0,d.prev=8,s=n[Symbol.iterator]();case 10:if(o=(c=s.next()).done){d.next=28;break}if(l=c.value,f=r[l],p=f&&f.AttributeType,"Lookup"!==p){d.next=23;break}return d.next=16,i.default.getEntityDefinitions(f.Targets[0]);case 16:h=d.sent,y=e.select.indexOf(l),e.select.splice(y,1),e.expand||(e.expand=[]),e.expand.push({attribute:l,select:[h.PrimaryIdAttribute,h.PrimaryNameAttribute]}),d.next=25;break;case 23:if(p){d.next=25;break}throw"Unexisting select field found: "+l;case 25:o=!0,d.next=10;break;case 28:d.next=34;break;case 30:d.prev=30,d.t0=d.catch(8),a=!0,u=d.t0;case 34:d.prev=34,d.prev=35,!o&&s.return&&s.return();case 37:if(d.prev=37,!a){d.next=40;break}throw u;case 40:return d.finish(37);case 41:return d.finish(34);case 42:case"end":return d.stop()}},_callee3,this,[[8,30,34,42],[35,,37,41]])}));return rewriteSelect}()},{key:"getQueryOptions",value:function(){function getQueryOptions(t,r){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(e,t){var r,n,o,i,a,u,s,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"&";return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return this.rewriteFilters(e),l.next=3,this.rewriteSelect(e,t);case 3:return r=[],n=this.parseSelect(e.select),l.next=7,this.parseFilters(e.filters,t);case 7:return o=l.sent,l.next=10,this.parseExpand(e.expand,t);case 10:return i=l.sent,a=this.parseOrders(e.orders),u=this.parseTop(e.top),s=this.parseCount(e.count),o&&r.push(o),n&&r.push(n),i&&r.push(i),a&&r.push(a),u&&r.push(u),s&&r.push(s),l.abrupt("return",r.join(c));case 21:case"end":return l.stop()}},_callee4,this)}));return getQueryOptions}()},{key:"parseExpand",value:function(){function parseExpand(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(){var e,t,r,n,o,i,a,u,s,c,l,f,p,h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],y=arguments[1];return regeneratorRuntime.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(e=null,!(h.length>0)){d.next=59;break}t="",r=!0,n=!1,o=void 0,d.prev=6,i=h[Symbol.iterator]();case 8:if(r=(a=i.next()).done){d.next=44;break}if(u=a.value,""!==t&&(t+=","),"string"!=typeof u){d.next=24;break}return d.prev=12,d.next=15,this.getNavigationProperty(u,y);case 15:s=d.sent,t+=""+s,d.next=22;break;case 19:throw d.prev=19,d.t0=d.catch(12),d.t0;case 22:d.next=41;break;case 24:return d.prev=24,c=u.attribute,d.next=28,this.getNavigationProperty(c,y);case 28:return l=d.sent,d.next=31,this.getEntityAttributes(y);case 31:return f=d.sent,d.next=34,this.getQueryOptions(u,f[c].Targets[0],";");case 34:p=d.sent,t+=l+"("+p+")",d.next=41;break;case 38:throw d.prev=38,d.t1=d.catch(24),d.t1;case 41:r=!0,d.next=8;break;case 44:d.next=50;break;case 46:d.prev=46,d.t2=d.catch(6),n=!0,o=d.t2;case 50:d.prev=50,d.prev=51,!r&&i.return&&i.return();case 53:if(d.prev=53,!n){d.next=56;break}throw o;case 56:return d.finish(53);case 57:return d.finish(50);case 58:e="$expand="+t;case 59:return d.abrupt("return",e);case 60:case"end":return d.stop()}},_callee5,this,[[6,46,50,58],[12,19],[24,38],[51,,53,57]])}));return parseExpand}()},{key:"parseSelect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=null;if(e.length>0){var r="",n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var s=a.value;""!==r&&(r+=","),r+=""+s}}catch(e){o=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}t="$select="+r}return t}},{key:"parseFilters",value:function(){function parseFilters(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee6(){var e,t,r,n,o,i,a,u,s,c,l,f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],p=arguments[1];return regeneratorRuntime.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(e=null,!(f.length>0)){h.next=39;break}t=[],r=!0,n=!1,o=void 0,h.prev=6,i=f[Symbol.iterator]();case 8:if(r=(a=i.next()).done){h.next=24;break}return u=a.value,s=u.type,c=u.conditions,h.t0=t,h.next=14,this.parseConditions(c,s,p);case 14:if(h.t1=h.sent,h.t0.push.call(h.t0,h.t1),!u.filters){h.next=21;break}return h.next=19,this.parseFilters(u.filters,p);case 19:l=h.sent,t.push(l.substring(8));case 21:r=!0,h.next=8;break;case 24:h.next=30;break;case 26:h.prev=26,h.t2=h.catch(6),n=!0,o=h.t2;case 30:h.prev=30,h.prev=31,!r&&i.return&&i.return();case 33:if(h.prev=33,!n){h.next=36;break}throw o;case 36:return h.finish(33);case 37:return h.finish(30);case 38:e="$filter="+t.join("and");case 39:return h.abrupt("return",e);case 40:case"end":return h.stop()}},_callee6,this,[[6,26,30,38],[31,,33,37]])}));return parseFilters}()},{key:"parseConditions",value:function(){function parseConditions(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee7(){var e,t,r,n,o,i,a,u,s,c,l,f,p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"and",y=arguments[2];return regeneratorRuntime.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return e="",d.next=3,this.getEntityAttributes(y);case 3:for(t=d.sent,r=!0,n=!1,o=void 0,d.prev=7,i=p[Symbol.iterator]();!(r=(a=i.next()).done);r=!0)u=a.value,s=u.operator,c=u.value,l=u.attribute,f=t[l].AttributeType,l="Lookup"===f?"_"+l+"_value":l,s=s||"eq",c="String"===f?"'"+c+"'":""+c,""!==e&&(e+=" "+h+" "),e+=l+" "+s+" "+c;d.next=15;break;case 11:d.prev=11,d.t0=d.catch(7),n=!0,o=d.t0;case 15:d.prev=15,d.prev=16,!r&&i.return&&i.return();case 18:if(d.prev=18,!n){d.next=21;break}throw o;case 21:return d.finish(18);case 22:return d.finish(15);case 23:return d.abrupt("return","("+e+")");case 24:case"end":return d.stop()}},_callee7,this,[[7,11,15,23],[16,,18,22]])}));return parseConditions}()},{key:"parseOrders",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=null;if(e.length>0){var r="",n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var s=a.value,c=s.attribute,l=s.descending,f=l?"desc":"asc";""!==r&&(r+=","),r+=c+" "+f}}catch(e){o=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}t="$orderby="+r}return t}},{key:"parseTop",value:function(e){var t=null;return e&&(t="$top="+e),t}},{key:"parseCount",value:function(e){var t=null;return!0===e&&(t="$count="+e),t}},{key:"queryElements",get:function(){return["attribute","filters","select","expand","orders","maxpagesize","top","count"]}}]),_class}(e)};t.default=s},149:function(e,t,r){"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function step(n,o){try{var i=t[n](o),a=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}return step("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=r(18),i=function(e){return e&&e.__esModule?e:{default:e}}(o),a=function(e){return function(e){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}return _inherits(_class,e),n(_class,[{key:"save",value:function(){function save(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.isNew();case 2:if(!e.sent){e.next=6;break}return e.abrupt("return",this.create());case 6:if(0===Object.keys(this.changes).length){e.next=8;break}return e.abrupt("return",this.update());case 8:case"end":return e.stop()}},_callee,this)}));return save}()},{key:"update",value:function(){function update(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var e,t,r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=this.changes,n.next=3,this.getPrimaryId();case 3:return t=n.sent,r=this.logicalName,console.log("Update "+r+" ("+t+")"),n.next=8,i.default.updateEntity(r,t,e);case 8:this.changes=null;case 9:case"end":return n.stop()}},_callee2,this)}));return update}()}]),_class}(e)};t.default=a},18:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function step(n,o){try{var i=t[n](o),a=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}return step("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n;Object.defineProperty(t,"__esModule",{value:!0}),t.WebAPI=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),a=r(69),u=_interopRequireDefault(a),s=r(70),c=_interopRequireDefault(s),l=r(51),f=_interopRequireDefault(l),p=r(71),h=_interopRequireDefault(p),y=r(72),d=_interopRequireDefault(y),b=r(73),_=_interopRequireDefault(b),v=r(32),g=_interopRequireDefault(v),m=r(74),w=_interopRequireDefault(m),k=r(75),x=_interopRequireDefault(k),P=r(76),O=_interopRequireDefault(P);void 0===window.Xrm&&void 0!==window.parent.Xrm&&(window.Xrm=window.parent.Xrm);var R=function(e){function WebAPI(){return _classCallCheck(this,WebAPI),_possibleConstructorReturn(this,(WebAPI.__proto__||Object.getPrototypeOf(WebAPI)).apply(this,arguments))}return _inherits(WebAPI,e),i(WebAPI,null,[{key:"getEntityDefinitions",value:function(e){return g.default.getEntityDefinitions(e)}},{key:"getEntitySetName",value:function(){function getEntitySetName(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e){var t;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.getEntityDefinitions(e);case 2:return t=r.sent,r.abrupt("return",t.EntitySetName);case 4:case"end":return r.stop()}},_callee,this)}));return getEntitySetName}()},{key:"getOptionSet",value:function(e,t){return g.default.getOptionSet(e,t)}},{key:"parseEntityId",value:function(e){var t=e;if("object"===(void 0===e?"undefined":o(e))){var r=[];for(var n in e)e.hasOwnProperty(n)&&r.push(n+"='"+e[n]+"'");t=r.join(",")}else e.startsWith("{")&&e.endsWith("}")&&(t=t.substr(1,t.length-2));return t}},{key:"buildQueryString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[];if("string"==typeof e)t.push(e);else{if(e.select){var r=void 0;r="object"===o(e.select)?e.select.join(","):e.select,t.push("$select="+r)}e.top&&t.push("$top="+e.top),e.count&&t.push("$count="+e.count)}return t.length?"?"+t.join("&"):""}},{key:"context",get:function(){if(void 0!==window.Xrm)return window.Xrm.Page.context;if(void 0!==window.GetGlobalContext)return window.GetGlobalContext();throw new Error("Context is not available.")}},{key:"webAPIPath",get:function(){return this.context.getClientUrl()+"/api/data/"+this.version}},{key:"version",get:function(){if(!this.api){var e=this.context.getVersion();e||(e=window.parent.Xrm.Page.context.getVersion()),this.version=e.substr(0,3)}return this.api},set:function(e){e.startsWith("v")||(e="v"+e),this.api=e}}]),WebAPI}((0,u.default)((0,c.default)((0,h.default)((0,d.default)((0,_.default)((0,w.default)((0,x.default)((0,O.default)(f.default)))))))));t.WebAPI=R,t.default=R,void 0!==(n=function(){return R}.call(t,r,t,e))&&(e.exports=n)},32:function(e,t,r){"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function step(n,o){try{var i=t[n](o),a=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}return step("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=r(18),i=function(e){return e&&e.__esModule?e:{default:e}}(o),a=function(){function Metadata(){_classCallCheck(this,Metadata)}return n(Metadata,null,[{key:"getEntityDefinitions",value:function(){function getEntityDefinitions(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e){var t,r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.cachedEntityDefinitions[e]){n.next=2;break}return n.abrupt("return",this.cachedEntityDefinitions[e]);case 2:if("string"==typeof e){n.next=4;break}throw Error("Invalid logicalName given");case 4:return n.next=6,i.default.retrieveEntitySet("EntityDefinitions",null,"$filter=LogicalName eq '"+e+"'&$expand=Attributes,ManyToOneRelationships");case 6:return t=n.sent,r=t.value[0],this.cachedEntityDefinitions[e]=r,n.abrupt("return",r);case 10:case"end":return n.stop()}},_callee,this)}));return getEntityDefinitions}()},{key:"getCachedEntityDefinitions",value:function(e){return this.cachedEntityDefinitions[e]}},{key:"getOptionSet",value:function(){function getOptionSet(t,r){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(e,t){var r,n,o,i,a,u,s,c;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.getEntityDefinitions(e);case 2:r=l.sent,n=!0,o=!1,i=void 0,l.prev=6,a=r.Attributes[Symbol.iterator]();case 8:if(n=(u=a.next()).done){l.next=22;break}if(s=u.value,s.LogicalName!==t){l.next=19;break}if("Picklist"!==(c=s.AttributeType)){l.next=16;break}return l.abrupt("return",this.getPicklistOptionSet(e,t));case 16:if("Boolean"!==c){l.next=18;break}return l.abrupt("return",this.getBooleanOptionSet(e,t));case 18:return l.abrupt("break",22);case 19:n=!0,l.next=8;break;case 22:l.next=28;break;case 24:l.prev=24,l.t0=l.catch(6),o=!0,i=l.t0;case 28:l.prev=28,l.prev=29,!n&&a.return&&a.return();case 31:if(l.prev=31,!o){l.next=34;break}throw i;case 34:return l.finish(31);case 35:return l.finish(28);case 36:case"end":return l.stop()}},_callee2,this,[[6,24,28,36],[29,,31,35]])}));return getOptionSet}()},{key:"getPicklistOptionSet",value:function(){function getPicklistOptionSet(t,r){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(e,t){var r,n;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,i.default.retrieveEntitySet("EntityDefinitions(LogicalName='"+e+"')/Attributes(LogicalName='"+t+"')/Microsoft.Dynamics.CRM.PicklistAttributeMetadata",null,"$select=LogicalName&$expand=OptionSet");case 2:return r=o.sent,n=r.OptionSet.Options.map(function(e){return{value:e.Value,label:e.Label.UserLocalizedLabel.Label}}),o.abrupt("return",n);case 5:case"end":return o.stop()}},_callee3,this)}));return getPicklistOptionSet}()},{key:"getBooleanOptionSet",value:function(){function getBooleanOptionSet(t,r){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(e,t){var r,n,o,a,u;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,i.default.retrieveEntitySet("EntityDefinitions(LogicalName='"+e+"')/Attributes(LogicalName='"+t+"')/Microsoft.Dynamics.CRM.BooleanAttributeMetadata",null,"$select=LogicalName&$expand=OptionSet");case 2:return r=s.sent,n=r.OptionSet,o=n.FalseOption,a=n.TrueOption,u=[],u.push({value:o.Value,label:o.Label.UserLocalizedLabel.Label}),u.push({value:a.Value,label:a.Label.UserLocalizedLabel.Label}),s.abrupt("return",u);case 10:case"end":return s.stop()}},_callee4,this)}));return getBooleanOptionSet}()},{key:"cachedEntityDefinitions",get:function(){return this.entityDef||(this.entityDef={}),this.entityDef}}]),Metadata}();t.default=a},351:function(e,t,r){e.exports=r(138)},51:function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=function(){function Class(){_classCallCheck(this,Class)}return n(Class,[{key:"getClass",value:function(){return Object.getPrototypeOf(this).constructor}}]),Class}();t.default=o},66:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function step(n,o){try{var i=t[n](o),a=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}return step("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(144),a=_interopRequireDefault(i),u=r(51),s=_interopRequireDefault(u),c=r(145),l=_interopRequireDefault(c),f=r(146),p=_interopRequireDefault(f),h=r(147),y=_interopRequireDefault(h),d=r(32),b=_interopRequireDefault(d),_=r(148),v=_interopRequireDefault(_),g=r(149),m=_interopRequireDefault(g),w=r(18),k=_interopRequireDefault(w),x=function(e){function Entity(e,t){_classCallCheck(this,Entity);var r=_possibleConstructorReturn(this,(Entity.__proto__||Object.getPrototypeOf(Entity)).apply(this,arguments));return r.data=e,r.logicalName=t||r.getClass().logicalName,r}return _inherits(Entity,e),o(Entity,[{key:"isNew",value:function(){function isNew(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getPrimaryId();case 2:return e=t.sent,t.abrupt("return",!e);case 4:case"end":return t.stop()}},_callee,this)}));return isNew}()},{key:"getEntityMetadata",value:function(){function getEntityMetadata(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.default.getEntityDefinitions(this.logicalName);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},_callee2,this)}));return getEntityMetadata}()},{key:"getPrimaryIdAttribute",value:function(){function getPrimaryIdAttribute(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getEntityMetadata();case 2:return e=t.sent,t.abrupt("return",e.PrimaryIdAttribute);case 4:case"end":return t.stop()}},_callee3,this)}));return getPrimaryIdAttribute}()},{key:"getPrimaryId",value:function(){function getPrimaryId(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getPrimaryIdAttribute();case 2:return e=t.sent,t.abrupt("return",this.data[e]);case 4:case"end":return t.stop()}},_callee4,this)}));return getPrimaryId}()},{key:"getAttribute",value:function(e,t){var r=this.data[t||e];if(r&&t){var n=this.getClass().getCachedEntityAttributes(this.logicalName),o=n[e],i=b.default.getCachedEntityDefinitions(o.Targets[0]);if(i){var a=i.SchemaName,u=i.PrimaryIdAttribute,s=i.PrimaryNameAttribute;r.LogicalName=a,r.Id=r[u],r.Name=r[s]}}return r}},{key:"setAttribute",value:function(e,t){var r=this.getClass().getCachedEntityAttributes(this.logicalName),o=r&&r[e];if(o||e.endsWith("@odata.bind"))if(o&&"Lookup"===o.AttributeType&&"object"!==(void 0===t?"undefined":n(t))){var i=this.logicalName;console.log(i+" attribute "+e+" is a Lookup. Use "+this.logicalName+".bind('"+e+"', '"+t+"') instead.")}else{var a=this.data[e];a!==t&&(this.data[e]=t,this.changes[e]=t)}else{var u=this.logicalName;console.log(u+" has no attribute '"+e+"'")}}},{key:"bind",value:function(){function bind(t,r,n){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(e,t,r){var n,o,i,a,u,s,c,l;return regeneratorRuntime.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,this.getClass().getEntityAttributes(this.logicalName);case 2:if(n=f.sent,o=n[e],"Lookup"!==o.AttributeType){f.next=18;break}return i=k.default.webAPIPath,a=r||o.Targets[0],f.next=9,b.default.getEntityDefinitions(a);case 9:return u=f.sent,f.next=12,Entity.getNavigationProperty(e,this.logicalName,a);case 12:return s=f.sent,c=u.EntitySetName,l=i+"/"+c+"("+t+")",this.setAttribute(s+"@odata.bind",l),f.next=18,this.updateBinding(e,a,t);case 18:case"end":return f.stop()}},_callee5,this)}));return bind}()},{key:"updateBinding",value:function(){function updateBinding(t,r,n){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee6(e,t,r){var n,o,i=this;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(n=this.getAttribute(e)){a.next=3;break}return a.abrupt("return");case 3:return o=Object.keys(n).filter(function(e){return!["Id","LogicalName","Name"].includes(e)}),a.next=6,Entity.get(t,r,{select:o}).then(function(t){var r=!0,a=!1,u=void 0;try{for(var s,c=o[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var l=s.value;n[l]=t[l]}}catch(e){a=!0,u=e}finally{try{!r&&c.return&&c.return()}finally{if(a)throw u}}i.setAttribute(e,n)});case 6:case"end":return a.stop()}},_callee6,this)}));return updateBinding}()},{key:"logicalName",get:function(){return this.logicName},set:function(e){this.logicName=e}},{key:"data",get:function(){return this.dat},set:function(e){this.dat=e}},{key:"changes",get:function(){return this.chngs||(this.chngs={}),this.chngs},set:function(e){this.chngs=e||{}}}],[{key:"getEntityAttributes",value:function(){function getEntityAttributes(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee7(){var e,t,r,n,o,i,a,u,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.logicalName;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(this.cachedEntityAttributes||(this.cachedEntityAttributes={}),!this.cachedEntityAttributes[s]){c.next=5;break}return c.abrupt("return",this.cachedEntityAttributes[s]);case 5:return c.prev=5,c.next=8,b.default.getEntityDefinitions(s);case 8:for(e=c.sent,t={},r=!0,n=!1,o=void 0,c.prev=13,i=e.Attributes[Symbol.iterator]();!(r=(a=i.next()).done);r=!0)u=a.value,t[u.LogicalName]=u;c.next=21;break;case 17:c.prev=17,c.t0=c.catch(13),n=!0,o=c.t0;case 21:c.prev=21,c.prev=22,!r&&i.return&&i.return();case 24:if(c.prev=24,!n){c.next=27;break}throw o;case 27:return c.finish(24);case 28:return c.finish(21);case 29:return this.cachedEntityAttributes[s]=t,c.abrupt("return",t);case 33:throw c.prev=33,c.t1=c.catch(5),c.t1;case 36:case"end":return c.stop()}},_callee7,this,[[5,33],[13,17,21,29],[22,,24,28]])}));return getEntityAttributes}()},{key:"getCachedEntityAttributes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.logicalName;return this.cachedEntityAttributes||(this.cachedEntityAttributes={}),this.cachedEntityAttributes[e]}}]),Entity}((0,a.default)((0,l.default)((0,p.default)((0,y.default)((0,v.default)((0,m.default)(s.default)))))));t.default=x},67:function(e,t,r){"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function step(n,o){try{var i=t[n](o),a=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}return step("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var o=Object.getPrototypeOf(e);return null===o?void 0:get(o,t,r)}if("value"in n)return n.value;var i=n.get;if(void 0!==i)return i.call(r)},i=r(66),a=function(e){return e&&e.__esModule?e:{default:e}}(i),u=function(e){function SubEntity(){return _classCallCheck(this,SubEntity),_possibleConstructorReturn(this,(SubEntity.__proto__||Object.getPrototypeOf(SubEntity)).apply(this,arguments))}return _inherits(SubEntity,e),n(SubEntity,null,[{key:"get",value:function(){function get(t,r){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e,t){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",o(SubEntity.__proto__||Object.getPrototypeOf(SubEntity),"get",this).call(this,this.logicalName,e,t));case 1:case"end":return r.stop()}},_callee,this)}));return get}()},{key:"query",value:function(){function query(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",o(SubEntity.__proto__||Object.getPrototypeOf(SubEntity),"query",this).call(this,this.logicalName,e));case 1:case"end":return t.stop()}},_callee2,this)}));return query}()},{key:"fetch",value:function(){function fetch(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",o(SubEntity.__proto__||Object.getPrototypeOf(SubEntity),"fetch",this).call(this,this.logicalName,e));case 1:case"end":return t.stop()}},_callee3,this)}));return fetch}()}]),SubEntity}(a.default);t.default=u},68:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["DELETE","GET","PATCH","POST","PUT"],o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",r=arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Promise(function(i,u){var s=new XMLHttpRequest;if(-1===n.indexOf(t))throw new Error("Request method must be one of the following: "+n.join(", "));s.open(t,encodeURI(e),!0),s.setRequestHeader("OData-MaxVersion","4.0"),s.setRequestHeader("OData-Version","4.0"),s.setRequestHeader("Accept","application/json"),s.setRequestHeader("Content-Type","application/json; charset=utf-8");for(var c in o)s.setRequestHeader(c,o[c]);s.onreadystatechange=function(){if(4===s.readyState){s.onreadystatechange=null;try{var e=a(s);i(e)}catch(e){u(e)}}};var l=null;r&&(l=JSON.stringify(r)),s.send(l)})},i=function(e,t){if("string"==typeof t){var r=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?::(\d*))?Z$/.exec(t);if(r)return new Date(Date.UTC(+r[1],+r[2]-1,+r[3],+r[4],+r[5],+r[6],+r[7]||0))}return t},a=function(e){var t={200:function(){var t=null;try{t=JSON.parse(e.response,i)}catch(e){throw new Error("JSON response can't be parsed")}return{body:t,getResponseHeader:e.getResponseHeader.bind(e),statusCode:e.status}},204:function(){return{body:null,getResponseHeader:e.getResponseHeader.bind(e),statusCode:e.status}}},r=t[e.status];if(r)return r();throw new Error("Unexpected Error")};t.default=o},69:function(e,t,r){"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function step(n,o){try{var i=t[n](o),a=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}return step("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=function(e){return function(e){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}return _inherits(_class,e),n(_class,null,[{key:"executeAction",value:function(){function executeAction(t,r,n,o){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e,t,r,n){var o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=4;break}return e.abrupt("return",this.executeBoundAction.apply(this,o));case 4:return e.abrupt("return",this.executeUnboundAction.apply(this,o));case 5:case"end":return e.stop()}},_callee,this)}));return executeAction}()},{key:"executeBoundAction",value:function(){function executeBoundAction(t,r,n,o){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(e,t,r,n){var o;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.getEntitySetName(r);case 2:return o=i.sent,i.abrupt("return",this.requestAndReturnBody("POST",o+"("+n+")/Microsoft.Dynamics.CRM."+e,t));case 4:case"end":return i.stop()}},_callee2,this)}));return executeBoundAction}()},{key:"executeUnboundAction",value:function(e,t){return this.requestAndReturnBody("POST",""+e,t)}}]),_class}(e)};t.default=o},70:function(e,t,r){"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function step(n,o){try{var i=t[n](o),a=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}return step("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=function(e){return function(e){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}return _inherits(_class,e),n(_class,null,[{key:"associateEntities",value:function(){function associateEntities(t,r,n,o,i){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e,t,r,n,o){var i,a,u;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.getEntitySetName(e);case 2:return i=s.sent,a=this.webAPIPath,u={"@odata.id":a+"/"+n+"("+o+")"},s.abrupt("return",this.requestAndReturnBody("POST",i+"("+t+")/"+r+"/$ref",u));case 6:case"end":return s.stop()}},_callee,this)}));return associateEntities}()},{key:"disassociateEntities",value:function(){function disassociateEntities(t,r,n,o){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(e,t,r,n){var o;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.getEntitySetName(e);case 2:return o=i.sent,i.abrupt("return",this.requestAndReturnBody("DELETE",o+"("+t+")/"+r+"("+n+")/$ref"));case 4:case"end":return i.stop()}},_callee2,this)}));return disassociateEntities}()}]),_class}(e)};t.default=o},71:function(e,t,r){"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function step(n,o){try{var i=t[n](o),a=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}return step("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=function(e){return function(e){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}return _inherits(_class,e),n(_class,null,[{key:"createEntity",value:function(){function createEntity(t,r){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e,t){var r,n;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.getEntitySetName(e);case 2:return r=o.sent,o.next=5,this.requestAndReturnHeader("POST",r,t,"OData-EntityId");case 5:if(!(n=o.sent)){o.next=8;break}return o.abrupt("return",this.getEntityIdFromHeader(n));case 8:case"end":return o.stop()}},_callee,this)}));return createEntity}()},{key:"getEntityIdFromHeader",value:function(e){return/\(([^)]+)\)/.exec(e)[1]}}]),_class}(e)};t.default=o},72:function(e,t,r){"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function step(n,o){try{var i=t[n](o),a=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}return step("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=function(e){return function(e){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}return _inherits(_class,e),n(_class,null,[{key:"deleteEntity",value:function(){function deleteEntity(t,r){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e,t){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.getEntitySetName(e);case 2:return r=n.sent,n.abrupt("return",this.request("DELETE",r+"("+t+")"));case 4:case"end":return n.stop()}},_callee,this)}));return deleteEntity}()}]),_class}(e)};t.default=o},73:function(e,t,r){"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function step(n,o){try{var i=t[n](o),a=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}return step("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=function(e){return function(e){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}return _inherits(_class,e),n(_class,null,[{key:"executeFunction",value:function(e,t,r){return t?this.executeBoundFunction.apply(this,arguments):this.executeUnboundFunction.apply(this,arguments)}},{key:"executeBoundFunction",value:function(){function executeBoundFunction(t,r,n){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e,t,r){var n;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.getEntitySetName(t);case 2:return n=o.sent,o.abrupt("return",this.requestAndReturnBody("GET",n+"("+r+")/Microsoft.Dynamics.CRM."+e));case 4:case"end":return o.stop()}},_callee,this)}));return executeBoundFunction}()},{key:"executeUnboundFunction",value:function(e){return this.requestAndReturnBody("GET",""+e)}}]),_class}(e)};t.default=o},74:function(e,t,r){"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function step(n,o){try{var i=t[n](o),a=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}return step("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=function(e){return function(e){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}return _inherits(_class,e),n(_class,null,[{key:"retrieveEntity",value:function(){function retrieveEntity(t,r,n,o){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e,t,r,n){var o;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.getEntitySetName(e);case 2:return o=i.sent,i.abrupt("return",this.retrieveEntitySet(o,t,r,n));case 4:case"end":return i.stop()}},_callee,this)}));return retrieveEntity}()},{key:"retrieveEntitySet",value:function(e,t,r,n){var o=this.buildQueryString(r),i=t?this.parseEntityId(t):null,a=""+e;return i&&(a+="("+i+")"),a+=""+o,this.requestAndReturnBody("GET",a,null,n)}},{key:"retrieveMultiple",value:function(){function retrieveMultiple(t,r,n){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(e,t,r){var n,o,i=this;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.getEntitySetName(e);case 2:return n=a.sent,o=this.buildQueryString(t),a.abrupt("return",this.requestAndReturnBody("GET",""+n+o,null,r).then(function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(e){var t,n;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(t=r&&r.Prefer&&r.Prefer.includes("odata.maxpagesize"),!e["@odata.nextLink"]||t){o.next=7;break}return o.next=4,i.requestNextLinks(e["@odata.nextLink"]);case 4:n=o.sent,e.value=e.value.concat(n),delete e["@odata.nextLink"];case 7:return o.abrupt("return",e);case 8:case"end":return o.stop()}},_callee2,i)}));return function(t){return e.apply(this,arguments)}}()));case 5:case"end":return a.stop()}},_callee3,this)}));return retrieveMultiple}()},{key:"requestNextLinks",value:function(e){var t=this,r=[];return this.requestAndReturnBody("GET",decodeURI(e)).then(function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(e){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.value,!e["@odata.nextLink"]){n.next=7;break}return n.t0=r,n.next=5,t.requestNextLinks(e["@odata.nextLink"]);case 5:n.t1=n.sent,r=n.t0.concat.call(n.t0,n.t1);case 7:return n.abrupt("return",r);case 8:case"end":return n.stop()}},_callee4,t)}));return function(t){return e.apply(this,arguments)}}())}},{key:"executeFetchXml",value:function(){function executeFetchXml(t,r){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee6(e,t){var r,n=this;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.getEntitySetName(e);case 2:return r=o.sent,o.abrupt("return",this.requestAndReturnBody("GET",r+"?fetchXml="+t).then(function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(e){var t;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!e["@odata.nextLink"]){r.next=6;break}return r.next=3,n.requestNextLinks(e["@odata.nextLink"]);case 3:t=r.sent,e.value=e.value.concat(t),delete e["@odata.nextLink"];case 6:return r.abrupt("return",e);case 7:case"end":return r.stop()}},_callee5,n)}));return function(t){return e.apply(this,arguments)}}()));case 4:case"end":return o.stop()}},_callee6,this)}));return executeFetchXml}()},{key:"count",value:function(){function count(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee7(e){var t,r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.getEntitySetName(e);case 2:return t=n.sent,n.next=5,this.requestAndReturnBody("GET",t+"/$count");case 5:return r=n.sent,n.abrupt("return",r);case 7:case"end":return n.stop()}},_callee7,this)}));return count}()}]),_class}(e)};t.default=o},75:function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=r(68),i=function(e){return e&&e.__esModule?e:{default:e}}(o),a=function(e){return function(e){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}return _inherits(_class,e),n(_class,null,[{key:"request",value:function(e,t,r,n){var o=this.webAPIPath,a=void 0;return a=0===t.indexOf("http")?t:o+"/"+t,(0,i.default)(a,e,r,n)}},{key:"requestAndReturnBody",value:function(e,t,r,n){return this.request(e,t,r,n).then(function(e){return e.body})}},{key:"requestAndReturnHeader",value:function(e,t,r,n){return this.request(e,t,r).then(function(e){return e.getResponseHeader(n)})}}]),_class}(e)};t.default=a},76:function(e,t,r){"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function step(n,o){try{var i=t[n](o),a=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}return step("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=function(e){return function(e){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}return _inherits(_class,e),n(_class,null,[{key:"updateEntity",value:function(){function updateEntity(t,r,n){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e,t,r){var n;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.getEntitySetName(e);case 2:return n=o.sent,o.abrupt("return",this.request("PATCH",n+"("+t+")",r));case 4:case"end":return o.stop()}},_callee,this)}));return updateEntity}()}]),_class}(e)};t.default=o}})});