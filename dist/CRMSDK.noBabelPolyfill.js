/*! crm-sdk 1.6.5 | (c) Dynamics Software | MIT license - https://github.com/dys-solutions/crm-sdk/blob/develop/LICENSE */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("CRMSDK.noBabelPolyfill",[],t):"object"==typeof exports?exports["CRMSDK.noBabelPolyfill"]=t():e["CRMSDK.noBabelPolyfill"]=t()}(this,function(){return function(e){function __webpack_require__(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,__webpack_require__),n.l=!0,n.exports}var t={};return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.i=function(e){return e},__webpack_require__.d=function(e,t,r){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=355)}({138:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(67);Object.defineProperty(t,"Entity",{enumerable:!0,get:function(){return _interopRequireDefault(n).default}});var i=r(141);Object.defineProperty(t,"Account",{enumerable:!0,get:function(){return _interopRequireDefault(i).default}});var o=r(142);Object.defineProperty(t,"Annotation",{enumerable:!0,get:function(){return _interopRequireDefault(o).default}});var u=r(143);Object.defineProperty(t,"Systemuser",{enumerable:!0,get:function(){return _interopRequireDefault(u).default}});var a=r(18);Object.defineProperty(t,"WebAPI",{enumerable:!0,get:function(){return _interopRequireDefault(a).default}})},140:function(e,t,r){"use strict";(function(e){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),n=function(){function Base64(){_classCallCheck(this,Base64)}return r(Base64,[{key:"decode",value:function(e){return this.getClass().decode(e)}},{key:"encode",value:function(e){return this.getClass().encode(e)}},{key:"blob",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:512;return this.getClass().blob(e,t,r)}},{key:"decodeBlob",value:function(e){return this.getClass().decodeBlob(e)}}],[{key:"decode",value:function(t){return"undefined"!=typeof window?decodeURIComponent(Array.prototype.map.call(window.atob(t),function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join("")):e.from(t,"base64").toString("ascii")}},{key:"encode",value:function(t){return"undefined"!=typeof window?window.btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode("0x"+t)})):e.from(t).toString("base64")}},{key:"blob",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:512,n=e.replace(/\s/g,""),i=atob(n),o=[],u=void 0,a=void 0,s=void 0,c=void 0,f=void 0,l=void 0;for(u=0;u<i.length;u+=r){for(a=i.slice(u,u+r),s=new Array(a.length),c=0;c<a.length;c+=1)s[c]=a.charCodeAt(c);f=new Uint8Array(s),o.push(f)}try{l=new Blob(o,{type:t})}catch(e){if(window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,"TypeError"===e.name&&window.BlobBuilder){var p=new window.BlobBuilder;for(u=0;u<o.length;u+=1)p.append(o[u].buffer);l=p.getBlob(t)}else{if("InvalidStateError"!==e.name)return null;l=new Blob(o,{type:t})}}return l}},{key:"decodeBlob",value:function(e){return new Promise(function(t,r){var n=new window.FileReader;n.onload=function(e){var r=e.target.result;r.includes("base64,")&&(r=r.substr(r.indexOf("base64,")+"base64,".length)),t(r)},n.onerror=function(e){r(e)},n.readAsDataURL(e)})}}]),Base64}();t.default=n}).call(t,r(152).Buffer)},141:function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(68),o=function(e){return e&&e.__esModule?e:{default:e}}(i),u=function(e){function Account(){return _classCallCheck(this,Account),_possibleConstructorReturn(this,(Account.__proto__||Object.getPrototypeOf(Account)).apply(this,arguments))}return _inherits(Account,e),n(Account,null,[{key:"getActiveAccounts",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.filters||(e.filters=[]),e.filters.push(this.activeFilter),this.query(e)}},{key:"logicalName",get:function(){return"account"}},{key:"activeFilter",get:function(){return{type:"and",conditions:[{attribute:"statecode",value:0}]}}}]),Account}(o.default);t.default=u},142:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function step(n,i){try{var o=t[n](i),u=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(u).then(function(e){step("next",e)},function(e){step("throw",e)});e(u)}return step("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(140),o=_interopRequireDefault(i),u=r(68),a=_interopRequireDefault(u),s=function(e){function Annotation(){return _classCallCheck(this,Annotation),_possibleConstructorReturn(this,(Annotation.__proto__||Object.getPrototypeOf(Annotation)).apply(this,arguments))}return _inherits(Annotation,e),n(Annotation,[{key:"parseFile",value:function(){function parseFile(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.getClass().parseFile(e));case 1:case"end":return t.stop()}},_callee,this)}));return parseFile}()},{key:"parseAnnotation",value:function(){function parseAnnotation(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.getClass().parseAnnotation(e));case 1:case"end":return t.stop()}},_callee2,this)}));return parseAnnotation}()}],[{key:"parseFile",value:function(){function parseFile(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(e){var t,r,n;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.documentbody,r=e.mimetype,n=o.default.blob(t,r),n.name=e.filename,i.abrupt("return",n);case 3:case"end":return i.stop()}},_callee3,this)}));return parseFile}()},{key:"parseAnnotation",value:function(){function parseAnnotation(t,r){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(e,t){var r,n,i,u,a;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(t){s.next=2;break}throw new Error("No accountid specified!");case 2:return s.next=4,o.default.decodeBlob(e);case 4:return r=s.sent,n=e.name,i=e.type,u=new this({filename:n,mimetype:i,documentbody:r}),a=t.startsWith("{")&&t.endsWith("}")?t.substr(1,t.length-2):t,s.prev=8,s.next=11,u.bind("objectid",a,"account");case 11:return s.abrupt("return",u);case 14:throw s.prev=14,s.t0=s.catch(8),s.t0;case 17:case"end":return s.stop()}},_callee4,this,[[8,14]])}));return parseAnnotation}()},{key:"logicalName",get:function(){return"annotation"}}]),Annotation}(a.default);t.default=s},143:function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(68),o=function(e){return e&&e.__esModule?e:{default:e}}(i),u=function(e){function Systemuser(){return _classCallCheck(this,Systemuser),_possibleConstructorReturn(this,(Systemuser.__proto__||Object.getPrototypeOf(Systemuser)).apply(this,arguments))}return _inherits(Systemuser,e),n(Systemuser,null,[{key:"getCurrent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.filters||(e.filters=[]),e.filters.push(this.currentFilter),this.get(null,e)}},{key:"logicalName",get:function(){return"systemuser"}},{key:"currentFilter",get:function(){return{type:"and",conditions:[{attribute:"systemuserid",value:this.userId}]}}},{key:"userId",get:function(){try{var e=window.Xrm.Page.context.getUserId();return e.slice(1,e.length-1)}catch(e){if("window is not defined"===e.message)throw new Error("If using NodeJS, please don't use Systemuser.userId.")}}}]),Systemuser}(o.default);t.default=u},144:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function step(n,i){try{var o=t[n](i),u=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(u).then(function(e){step("next",e)},function(e){step("throw",e)});e(u)}return step("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(67),o=_interopRequireDefault(i),u=r(32),a=_interopRequireDefault(u),s=function(e){return function(e){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}return _inherits(_class,e),n(_class,null,[{key:"parseResult",value:function(){function parseResult(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var e,t,r,n,i,o,u,a,s,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],f=arguments[1];return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return e=[],l.next=3,this.getDerivedClass(f);case 3:for(t=l.sent,r=!0,n=!1,i=void 0,l.prev=7,o=c[Symbol.iterator]();!(r=(u=o.next()).done);r=!0)a=u.value,s=new t(a,f),e.push(s);l.next=15;break;case 11:l.prev=11,l.t0=l.catch(7),n=!0,i=l.t0;case 15:l.prev=15,l.prev=16,!r&&o.return&&o.return();case 18:if(l.prev=18,!n){l.next=21;break}throw i;case 21:return l.finish(18);case 22:return l.finish(15);case 23:return l.abrupt("return",e);case 24:case"end":return l.stop()}},_callee,this,[[7,11,15,23],[16,,18,22]])}));return parseResult}()},{key:"getDerivedClass",value:function(){function getDerivedClass(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(e){var t;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(o.default.derivedClasses||(o.default.derivedClasses={}),t=o.default.derivedClasses[e]){r.next=13;break}return r.prev=3,t=function(e){function Derived(){return _classCallCheck(this,Derived),_possibleConstructorReturn(this,(Derived.__proto__||Object.getPrototypeOf(Derived)).apply(this,arguments))}return _inherits(Derived,e),Derived}(this),r.next=7,this.addDescriptors(t.prototype,e);case 7:o.default.derivedClasses[e]=t,r.next=13;break;case 10:throw r.prev=10,r.t0=r.catch(3),r.t0;case 13:return r.abrupt("return",t);case 14:case"end":return r.stop()}},_callee2,this,[[3,10]])}));return getDerivedClass}()},{key:"addDescriptors",value:function(){function addDescriptors(t,r){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(e,t){var r,n,i,o,u,a,s,c,f;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.getEntityAttributes(t);case 2:r=l.sent,n=!0,i=!1,o=void 0,l.prev=6,u=Object.keys(r)[Symbol.iterator]();case 8:if(n=(a=u.next()).done){l.next=18;break}return s=a.value,c=r[s],l.next=13,this.getDescriptor(c,t);case 13:f=l.sent,f&&Object.defineProperty(e,c.LogicalName,f);case 15:n=!0,l.next=8;break;case 18:l.next=24;break;case 20:l.prev=20,l.t0=l.catch(6),i=!0,o=l.t0;case 24:l.prev=24,l.prev=25,!n&&u.return&&u.return();case 27:if(l.prev=27,!i){l.next=30;break}throw o;case 30:return l.finish(27);case 31:return l.finish(24);case 32:return l.abrupt("return",e);case 33:case"end":return l.stop()}},_callee3,this,[[6,20,24,32],[25,,27,31]])}));return addDescriptors}()},{key:"getDescriptor",value:function(){function getDescriptor(t,r){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(e,t){var r,n,i;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,r=this.getPropertyDescriptor(e.LogicalName),n=null,"Lookup"!==e.AttributeType){o.next=9;break}return o.next=6,this.getNavigationProperty(e.LogicalName,t);case 6:o.t0=o.sent,o.next=10;break;case 9:o.t0=null;case 10:return i=o.t0,r&&r.get&&r.set||(n={}),r&&r.get||(n.get=function(){return this.getAttribute(e.LogicalName,i)}),r&&r.set||(n.set=function(t){this.setAttribute(e.LogicalName,t)}),o.abrupt("return",n);case 17:throw o.prev=17,o.t1=o.catch(0),o.t1;case 20:case"end":return o.stop()}},_callee4,this,[[0,17]])}));return getDescriptor}()},{key:"getPropertyDescriptor",value:function(e){var t=Object.getOwnPropertyDescriptor(this.prototype,e),r=void 0;for(t||(r=Object.getPrototypeOf(this.prototype));!t&&r;)t=Object.getOwnPropertyDescriptor(r,e),r=Object.getPrototypeOf(r);return t}},{key:"getNavigationProperty",value:function(){function getNavigationProperty(t,r){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(e,t){var r,n,i,o,u,s,c,f,l,p,h,y,d,b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return regeneratorRuntime.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(r=""+t+e+b,!this.cachedNavigationProperties[r]){v.next=3;break}return v.abrupt("return",this.cachedNavigationProperties[r]);case 3:return n=void 0,v.prev=4,v.next=7,a.default.getEntityDefinitions(t);case 7:i=v.sent,o=!0,u=!1,s=void 0,v.prev=11,c=i.ManyToOneRelationships[Symbol.iterator]();case 13:if(o=(f=c.next()).done){v.next=22;break}if(l=f.value,p=l.ReferencingAttribute,h=l.ReferencingEntity,y=l.ReferencedEntity,d=l.ReferencingEntityNavigationPropertyName,p!==e||h!==t){v.next=19;break}if(!(n=b&&y!==b?null:d)){v.next=19;break}return v.abrupt("break",22);case 19:o=!0,v.next=13;break;case 22:v.next=28;break;case 24:v.prev=24,v.t0=v.catch(11),u=!0,s=v.t0;case 28:v.prev=28,v.prev=29,!o&&c.return&&c.return();case 31:if(v.prev=31,!u){v.next=34;break}throw s;case 34:return v.finish(31);case 35:return v.finish(28);case 36:v.next=42;break;case 38:throw v.prev=38,v.t1=v.catch(4),console.log(v.t1),v.t1;case 42:return this.cachedNavigationProperties[r]=n,v.abrupt("return",n);case 44:case"end":return v.stop()}},_callee5,this,[[4,38],[11,24,28,36],[29,,31,35]])}));return getNavigationProperty}()},{key:"cachedNavigationProperties",get:function(){return this.navProperties||(this.navProperties={}),this.navProperties}}]),_class}(e)};t.default=s},145:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function step(n,i){try{var o=t[n](i),u=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(u).then(function(e){step("next",e)},function(e){step("throw",e)});e(u)}return step("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(32),o=_interopRequireDefault(i),u=r(18),a=_interopRequireDefault(u),s=function(e){return function(e){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}return _inherits(_class,e),n(_class,[{key:"create",value:function(){function create(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getClass().create(this.logicalName,this.data));case 1:case"end":return e.stop()}},_callee,this)}));return create}()}],[{key:"create",value:function(){function create(t,r){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(e,t){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.default.getEntityDefinitions(e);case 2:return r=n.sent,console.log("Create "+e),n.next=6,a.default.createEntity(e,t);case 6:return t[r.PrimaryIdAttribute]=n.sent,n.abrupt("return",this.parseResult([t],e).then(function(e){return e[0]}));case 8:case"end":return n.stop()}},_callee2,this)}));return create}()}]),_class}(e)};t.default=s},146:function(e,t,r){"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function step(n,i){try{var o=t[n](i),u=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(u).then(function(e){step("next",e)},function(e){step("throw",e)});e(u)}return step("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(18),o=function(e){return e&&e.__esModule?e:{default:e}}(i),u=function(e){return function(e){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}return _inherits(_class,e),n(_class,[{key:"delete",value:function(){function _delete(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var e,t;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.getPrimaryId();case 2:return e=r.sent,t=this.logicalName,console.log("Delete "+t+" ("+e+")"),r.abrupt("return",o.default.deleteEntity(t,e));case 6:case"end":return r.stop()}},_callee,this)}));return _delete}()}]),_class}(e)};t.default=u},147:function(e,t,r){"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function step(n,i){try{var o=t[n](i),u=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(u).then(function(e){step("next",e)},function(e){step("throw",e)});e(u)}return step("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(18),o=function(e){return e&&e.__esModule?e:{default:e}}(i),u=function(e){return function(e){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}return _inherits(_class,e),n(_class,null,[{key:"fetch",value:function(){function fetch(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.logicalName,r=arguments[1];return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("Fetch "+t+" "+r),n.next=3,o.default.executeFetchXml(t,r);case 3:return e=n.sent,n.abrupt("return",this.parseResult(e.value,t));case 5:case"end":return n.stop()}},_callee,this)}));return fetch}()}]),_class}(e)};t.default=u},148:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function step(n,i){try{var o=t[n](i),u=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(u).then(function(e){step("next",e)},function(e){step("throw",e)});e(u)}return step("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(32),o=_interopRequireDefault(i),u=r(18),a=_interopRequireDefault(u),s=function(e){return function(e){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}return _inherits(_class,e),n(_class,null,[{key:"get",value:function(){function get(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var e,t,r,n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.logicalName,o=arguments[1],u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.getQueryOptions(u,i);case 2:return e=s.sent,o&&u.filters&&console.log("Get by 'id' does negate filters on query"),console.log("Get "+i+" ("+o+") "+e),s.next=7,a.default.retrieveEntity(i,o,e);case 7:return t=s.sent,r=t.value?t.value:[t],s.next=11,this.parseResult(r,i);case 11:return n=s.sent,s.abrupt("return",n[0]);case 13:case"end":return s.stop()}},_callee,this)}));return get}()},{key:"count",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.logicalName;return a.default.count(e)}},{key:"query",value:function(){function query(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.logicalName,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.getQueryOptions(n,r);case 2:return e=i.sent,console.log("Query "+r),i.next=6,a.default.retrieveMultiple(r,e,this.getHeaders(n));case 6:return t=i.sent,i.abrupt("return",this.parseResult(t.value,r));case 8:case"end":return i.stop()}},_callee2,this)}));return query}()},{key:"getHeaders",value:function(e){var t={};return e.maxpagesize&&(t.Prefer="odata.maxpagesize="+e.maxpagesize),t}},{key:"rewriteFilters",value:function(e){var t={type:"and",conditions:[]};e.filters||(e.filters=[]);var r=!0,n=!1,i=void 0;try{for(var o,u=Object.keys(e)[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var a=o.value;this.queryElements.includes(a)||t.conditions.push({attribute:a.toLowerCase(),operator:"eq",value:e[a]})}}catch(e){n=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(n)throw i}}t.conditions.length>0&&e.filters.push(t)}},{key:"rewriteSelect",value:function(){function rewriteSelect(t,r){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(e,t){var r,n,i,u,a,s,c,f,l,p,h,y;return regeneratorRuntime.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(!e.select){d.next=42;break}return d.next=3,this.getEntityAttributes(t);case 3:r=d.sent,n=e.select.slice(),i=!0,u=!1,a=void 0,d.prev=8,s=n[Symbol.iterator]();case 10:if(i=(c=s.next()).done){d.next=28;break}if(f=c.value,l=r[f],p=l&&l.AttributeType,"Lookup"!==p){d.next=23;break}return d.next=16,o.default.getEntityDefinitions(l.Targets[0]);case 16:h=d.sent,y=e.select.indexOf(f),e.select.splice(y,1),e.expand||(e.expand=[]),e.expand.push({attribute:f,select:[h.PrimaryIdAttribute,h.PrimaryNameAttribute]}),d.next=25;break;case 23:if(p){d.next=25;break}throw"Unexisting select field found: "+f;case 25:i=!0,d.next=10;break;case 28:d.next=34;break;case 30:d.prev=30,d.t0=d.catch(8),u=!0,a=d.t0;case 34:d.prev=34,d.prev=35,!i&&s.return&&s.return();case 37:if(d.prev=37,!u){d.next=40;break}throw a;case 40:return d.finish(37);case 41:return d.finish(34);case 42:case"end":return d.stop()}},_callee3,this,[[8,30,34,42],[35,,37,41]])}));return rewriteSelect}()},{key:"getQueryOptions",value:function(){function getQueryOptions(t,r){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(e,t){var r,n,i,o,u,a,s,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"&";return regeneratorRuntime.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return this.rewriteFilters(e),f.next=3,this.rewriteSelect(e,t);case 3:return r=[],n=this.parseSelect(e.select),f.next=7,this.parseFilters(e.filters,t);case 7:return i=f.sent,f.next=10,this.parseExpand(e.expand,t);case 10:return o=f.sent,u=this.parseOrders(e.orders),a=this.parseTop(e.top),s=this.parseCount(e.count),i&&r.push(i),n&&r.push(n),o&&r.push(o),u&&r.push(u),a&&r.push(a),s&&r.push(s),f.abrupt("return",r.join(c));case 21:case"end":return f.stop()}},_callee4,this)}));return getQueryOptions}()},{key:"parseExpand",value:function(){function parseExpand(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(){var e,t,r,n,i,o,u,a,s,c,f,l,p,h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],y=arguments[1];return regeneratorRuntime.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(e=null,!(h.length>0)){d.next=59;break}t="",r=!0,n=!1,i=void 0,d.prev=6,o=h[Symbol.iterator]();case 8:if(r=(u=o.next()).done){d.next=44;break}if(a=u.value,""!==t&&(t+=","),"string"!=typeof a){d.next=24;break}return d.prev=12,d.next=15,this.getNavigationProperty(a,y);case 15:s=d.sent,t+=""+s,d.next=22;break;case 19:throw d.prev=19,d.t0=d.catch(12),d.t0;case 22:d.next=41;break;case 24:return d.prev=24,c=a.attribute,d.next=28,this.getNavigationProperty(c,y);case 28:return f=d.sent,d.next=31,this.getEntityAttributes(y);case 31:return l=d.sent,d.next=34,this.getQueryOptions(a,l[c].Targets[0],";");case 34:p=d.sent,t+=f+"("+p+")",d.next=41;break;case 38:throw d.prev=38,d.t1=d.catch(24),d.t1;case 41:r=!0,d.next=8;break;case 44:d.next=50;break;case 46:d.prev=46,d.t2=d.catch(6),n=!0,i=d.t2;case 50:d.prev=50,d.prev=51,!r&&o.return&&o.return();case 53:if(d.prev=53,!n){d.next=56;break}throw i;case 56:return d.finish(53);case 57:return d.finish(50);case 58:e="$expand="+t;case 59:return d.abrupt("return",e);case 60:case"end":return d.stop()}},_callee5,this,[[6,46,50,58],[12,19],[24,38],[51,,53,57]])}));return parseExpand}()},{key:"parseSelect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=null;if(e.length>0){var r="",n=!0,i=!1,o=void 0;try{for(var u,a=e[Symbol.iterator]();!(n=(u=a.next()).done);n=!0){var s=u.value;""!==r&&(r+=","),r+=""+s}}catch(e){i=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw o}}t="$select="+r}return t}},{key:"parseFilters",value:function(){function parseFilters(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee6(){var e,t,r,n,i,o,u,a,s,c,f,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],p=arguments[1];return regeneratorRuntime.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(e=null,!(l.length>0)){h.next=39;break}t=[],r=!0,n=!1,i=void 0,h.prev=6,o=l[Symbol.iterator]();case 8:if(r=(u=o.next()).done){h.next=24;break}return a=u.value,s=a.type,c=a.conditions,h.t0=t,h.next=14,this.parseConditions(c,s,p);case 14:if(h.t1=h.sent,h.t0.push.call(h.t0,h.t1),!a.filters){h.next=21;break}return h.next=19,this.parseFilters(a.filters,p);case 19:f=h.sent,t.push(f.substring(8));case 21:r=!0,h.next=8;break;case 24:h.next=30;break;case 26:h.prev=26,h.t2=h.catch(6),n=!0,i=h.t2;case 30:h.prev=30,h.prev=31,!r&&o.return&&o.return();case 33:if(h.prev=33,!n){h.next=36;break}throw i;case 36:return h.finish(33);case 37:return h.finish(30);case 38:e="$filter="+t.join("and");case 39:return h.abrupt("return",e);case 40:case"end":return h.stop()}},_callee6,this,[[6,26,30,38],[31,,33,37]])}));return parseFilters}()},{key:"parseConditions",value:function(){function parseConditions(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee7(){var e,t,r,n,i,o,u,a,s,c,f,l,p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"and",y=arguments[2];return regeneratorRuntime.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return e="",d.next=3,this.getEntityAttributes(y);case 3:for(t=d.sent,r=!0,n=!1,i=void 0,d.prev=7,o=p[Symbol.iterator]();!(r=(u=o.next()).done);r=!0)a=u.value,s=a.operator,c=a.value,f=a.attribute,l=t[f].AttributeType,f="Lookup"===l?"_"+f+"_value":f,s=s||"eq",c="String"===l?"'"+c+"'":""+c,""!==e&&(e+=" "+h+" "),e+=f+" "+s+" "+c;d.next=15;break;case 11:d.prev=11,d.t0=d.catch(7),n=!0,i=d.t0;case 15:d.prev=15,d.prev=16,!r&&o.return&&o.return();case 18:if(d.prev=18,!n){d.next=21;break}throw i;case 21:return d.finish(18);case 22:return d.finish(15);case 23:return d.abrupt("return","("+e+")");case 24:case"end":return d.stop()}},_callee7,this,[[7,11,15,23],[16,,18,22]])}));return parseConditions}()},{key:"parseOrders",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=null;if(e.length>0){var r="",n=!0,i=!1,o=void 0;try{for(var u,a=e[Symbol.iterator]();!(n=(u=a.next()).done);n=!0){var s=u.value,c=s.attribute,f=s.descending,l=f?"desc":"asc";""!==r&&(r+=","),r+=c+" "+l}}catch(e){i=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw o}}t="$orderby="+r}return t}},{key:"parseTop",value:function(e){var t=null;return e&&(t="$top="+e),t}},{key:"parseCount",value:function(e){var t=null;return!0===e&&(t="$count="+e),t}},{key:"queryElements",get:function(){return["attribute","filters","select","expand","orders","maxpagesize","top","count"]}}]),_class}(e)};t.default=s},149:function(e,t,r){"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function step(n,i){try{var o=t[n](i),u=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(u).then(function(e){step("next",e)},function(e){step("throw",e)});e(u)}return step("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(18),o=function(e){return e&&e.__esModule?e:{default:e}}(i),u=function(e){return function(e){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}return _inherits(_class,e),n(_class,[{key:"save",value:function(){function save(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.isNew();case 2:if(!e.sent){e.next=6;break}return e.abrupt("return",this.create());case 6:if(0===Object.keys(this.changes).length){e.next=8;break}return e.abrupt("return",this.update());case 8:case"end":return e.stop()}},_callee,this)}));return save}()},{key:"update",value:function(){function update(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var e,t,r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=this.changes,n.next=3,this.getPrimaryId();case 3:return t=n.sent,r=this.logicalName,console.log("Update "+r+" ("+t+")"),n.next=8,o.default.updateEntity(r,t,e);case 8:this.changes=null;case 9:case"end":return n.stop()}},_callee2,this)}));return update}()}]),_class}(e)};t.default=u},151:function(e,t,r){"use strict";function placeHoldersCount(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function byteLength(e){return 3*e.length/4-placeHoldersCount(e)}function toByteArray(e){var t,r,n,u,a,s=e.length;u=placeHoldersCount(e),a=new o(3*s/4-u),r=u>0?s-4:s;var c=0;for(t=0;t<r;t+=4)n=i[e.charCodeAt(t)]<<18|i[e.charCodeAt(t+1)]<<12|i[e.charCodeAt(t+2)]<<6|i[e.charCodeAt(t+3)],a[c++]=n>>16&255,a[c++]=n>>8&255,a[c++]=255&n;return 2===u?(n=i[e.charCodeAt(t)]<<2|i[e.charCodeAt(t+1)]>>4,a[c++]=255&n):1===u&&(n=i[e.charCodeAt(t)]<<10|i[e.charCodeAt(t+1)]<<4|i[e.charCodeAt(t+2)]>>2,a[c++]=n>>8&255,a[c++]=255&n),a}function tripletToBase64(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}function encodeChunk(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16)+(e[o+1]<<8)+e[o+2],i.push(tripletToBase64(n));return i.join("")}function fromByteArray(e){for(var t,r=e.length,i=r%3,o="",u=[],a=0,s=r-i;a<s;a+=16383)u.push(encodeChunk(e,a,a+16383>s?s:a+16383));return 1===i?(t=e[r-1],o+=n[t>>2],o+=n[t<<4&63],o+="=="):2===i&&(t=(e[r-2]<<8)+e[r-1],o+=n[t>>10],o+=n[t>>4&63],o+=n[t<<2&63],o+="="),u.push(o),u.join("")}t.byteLength=byteLength,t.toByteArray=toByteArray,t.fromByteArray=fromByteArray;for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=u.length;a<s;++a)n[a]=u[a],i[u.charCodeAt(a)]=a;i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},152:function(e,t,r){"use strict";(function(e){function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(e,t){if(kMaxLength()<t)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=Buffer.prototype):(null===e&&(e=new Buffer(t)),e.length=t),e}function Buffer(e,t,r){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,e)}return from(this,e,t,r)}function from(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?fromArrayBuffer(e,t,r,n):"string"==typeof t?fromString(e,t,r):fromObject(e,t)}function assertSize(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function alloc(e,t,r,n){return assertSize(t),t<=0?createBuffer(e,t):void 0!==r?"string"==typeof n?createBuffer(e,t).fill(r,n):createBuffer(e,t).fill(r):createBuffer(e,t)}function allocUnsafe(e,t){if(assertSize(t),e=createBuffer(e,t<0?0:0|checked(t)),!Buffer.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function fromString(e,t,r){if("string"==typeof r&&""!==r||(r="utf8"),!Buffer.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|byteLength(t,r);e=createBuffer(e,n);var i=e.write(t,r);return i!==n&&(e=e.slice(0,i)),e}function fromArrayLike(e,t){var r=t.length<0?0:0|checked(t.length);e=createBuffer(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function fromArrayBuffer(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n),Buffer.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=Buffer.prototype):e=fromArrayLike(e,t),e}function fromObject(e,t){if(Buffer.isBuffer(t)){var r=0|checked(t.length);return e=createBuffer(e,r),0===e.length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||isnan(t.length)?createBuffer(e,0):fromArrayLike(e,t);if("Buffer"===t.type&&o(t.data))return fromArrayLike(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(e){if(e>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|e}function SlowBuffer(e){return+e!=e&&(e=0),Buffer.alloc(+e)}function byteLength(e,t){if(Buffer.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return utf8ToBytes(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return base64ToBytes(e).length;default:if(n)return utf8ToBytes(e).length;t=(""+t).toLowerCase(),n=!0}}function slowToString(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,t>>>=0,r<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return hexSlice(this,t,r);case"utf8":case"utf-8":return utf8Slice(this,t,r);case"ascii":return asciiSlice(this,t,r);case"latin1":case"binary":return latin1Slice(this,t,r);case"base64":return base64Slice(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function swap(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function bidirectionalIndexOf(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=Buffer.from(t,n)),Buffer.isBuffer(t))return 0===t.length?-1:arrayIndexOf(e,t,r,n,i);if("number"==typeof t)return t&=255,Buffer.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):arrayIndexOf(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(e,t,r,n,i){function read(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}var o=1,u=e.length,a=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,u/=2,a/=2,r/=2}var s;if(i){var c=-1;for(s=r;s<u;s++)if(read(e,s)===read(t,-1===c?0:s-c)){if(-1===c&&(c=s),s-c+1===a)return c*o}else-1!==c&&(s-=s-c),c=-1}else for(r+a>u&&(r=u-a),s=r;s>=0;s--){for(var f=!0,l=0;l<a;l++)if(read(e,s+l)!==read(t,l)){f=!1;break}if(f)return s}return-1}function hexWrite(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var u=0;u<n;++u){var a=parseInt(t.substr(2*u,2),16);if(isNaN(a))return u;e[r+u]=a}return u}function utf8Write(e,t,r,n){return blitBuffer(utf8ToBytes(t,e.length-r),e,r,n)}function asciiWrite(e,t,r,n){return blitBuffer(asciiToBytes(t),e,r,n)}function latin1Write(e,t,r,n){return asciiWrite(e,t,r,n)}function base64Write(e,t,r,n){return blitBuffer(base64ToBytes(t),e,r,n)}function ucs2Write(e,t,r,n){return blitBuffer(utf16leToBytes(t,e.length-r),e,r,n)}function base64Slice(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function utf8Slice(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o=e[i],u=null,a=o>239?4:o>223?3:o>191?2:1;if(i+a<=r){var s,c,f,l;switch(a){case 1:o<128&&(u=o);break;case 2:s=e[i+1],128==(192&s)&&(l=(31&o)<<6|63&s)>127&&(u=l);break;case 3:s=e[i+1],c=e[i+2],128==(192&s)&&128==(192&c)&&(l=(15&o)<<12|(63&s)<<6|63&c)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:s=e[i+1],c=e[i+2],f=e[i+3],128==(192&s)&&128==(192&c)&&128==(192&f)&&(l=(15&o)<<18|(63&s)<<12|(63&c)<<6|63&f)>65535&&l<1114112&&(u=l)}}null===u?(u=65533,a=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),i+=a}return decodeCodePointsArray(n)}function decodeCodePointsArray(e){var t=e.length;if(t<=u)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=u));return r}function asciiSlice(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function latin1Slice(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function hexSlice(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=toHex(e[o]);return i}function utf16leSlice(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function checkOffset(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function checkInt(e,t,r,n,i,o){if(!Buffer.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function objectWriteUInt16(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function objectWriteUInt32(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function checkIEEE754(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function writeFloat(e,t,r,n,o){return o||checkIEEE754(e,t,r,4,3.4028234663852886e38,-3.4028234663852886e38),i.write(e,t,r,n,23,4),r+4}function writeDouble(e,t,r,n,o){return o||checkIEEE754(e,t,r,8,1.7976931348623157e308,-1.7976931348623157e308),i.write(e,t,r,n,52,8),r+8}function base64clean(e){if(e=stringtrim(e).replace(a,""),e.length<2)return"";for(;e.length%4!=0;)e+="=";return e}function stringtrim(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function toHex(e){return e<16?"0"+e.toString(16):e.toString(16)}function utf8ToBytes(e,t){t=t||1/0;for(var r,n=e.length,i=null,o=[],u=0;u<n;++u){if((r=e.charCodeAt(u))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(u+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function asciiToBytes(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function utf16leToBytes(e,t){for(var r,n,i,o=[],u=0;u<e.length&&!((t-=2)<0);++u)r=e.charCodeAt(u),n=r>>8,i=r%256,o.push(i),o.push(n);return o}function base64ToBytes(e){return n.toByteArray(base64clean(e))}function blitBuffer(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function isnan(e){return e!==e}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var n=r(151),i=r(353),o=r(354);t.Buffer=Buffer,t.SlowBuffer=SlowBuffer,t.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(e){return e.__proto__=Buffer.prototype,e},Buffer.from=function(e,t,r){return from(null,e,t,r)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(e,t,r){return alloc(null,e,t,r)},Buffer.allocUnsafe=function(e){return allocUnsafe(null,e)},Buffer.allocUnsafeSlow=function(e){return allocUnsafe(null,e)},Buffer.isBuffer=function(e){return!(null==e||!e._isBuffer)},Buffer.compare=function(e,t){if(!Buffer.isBuffer(e)||!Buffer.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},Buffer.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Buffer.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=Buffer.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var u=e[r];if(!Buffer.isBuffer(u))throw new TypeError('"list" argument must be an Array of Buffers');u.copy(n,i),i+=u.length}return n},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)swap(this,t,t+1);return this},Buffer.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)swap(this,t,t+3),swap(this,t+1,t+2);return this},Buffer.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)swap(this,t,t+7),swap(this,t+1,t+6),swap(this,t+2,t+5),swap(this,t+3,t+4);return this},Buffer.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?utf8Slice(this,0,e):slowToString.apply(this,arguments)},Buffer.prototype.equals=function(e){if(!Buffer.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===Buffer.compare(this,e)},Buffer.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},Buffer.prototype.compare=function(e,t,r,n,i){if(!Buffer.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var o=i-n,u=r-t,a=Math.min(o,u),s=this.slice(n,i),c=e.slice(t,r),f=0;f<a;++f)if(s[f]!==c[f]){o=s[f],u=c[f];break}return o<u?-1:u<o?1:0},Buffer.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},Buffer.prototype.indexOf=function(e,t,r){return bidirectionalIndexOf(this,e,t,r,!0)},Buffer.prototype.lastIndexOf=function(e,t,r){return bidirectionalIndexOf(this,e,t,r,!1)},Buffer.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return hexWrite(this,e,t,r);case"utf8":case"utf-8":return utf8Write(this,e,t,r);case"ascii":return asciiWrite(this,e,t,r);case"latin1":case"binary":return latin1Write(this,e,t,r);case"base64":return base64Write(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var u=4096;Buffer.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n;if(Buffer.TYPED_ARRAY_SUPPORT)n=this.subarray(e,t),n.__proto__=Buffer.prototype;else{var i=t-e;n=new Buffer(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},Buffer.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},Buffer.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},Buffer.prototype.readUInt8=function(e,t){return t||checkOffset(e,1,this.length),this[e]},Buffer.prototype.readUInt16LE=function(e,t){return t||checkOffset(e,2,this.length),this[e]|this[e+1]<<8},Buffer.prototype.readUInt16BE=function(e,t){return t||checkOffset(e,2,this.length),this[e]<<8|this[e+1]},Buffer.prototype.readUInt32LE=function(e,t){return t||checkOffset(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Buffer.prototype.readUInt32BE=function(e,t){return t||checkOffset(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Buffer.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},Buffer.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},Buffer.prototype.readInt8=function(e,t){return t||checkOffset(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Buffer.prototype.readInt16LE=function(e,t){t||checkOffset(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt16BE=function(e,t){t||checkOffset(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt32LE=function(e,t){return t||checkOffset(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Buffer.prototype.readInt32BE=function(e,t){return t||checkOffset(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Buffer.prototype.readFloatLE=function(e,t){return t||checkOffset(e,4,this.length),i.read(this,e,!0,23,4)},Buffer.prototype.readFloatBE=function(e,t){return t||checkOffset(e,4,this.length),i.read(this,e,!1,23,4)},Buffer.prototype.readDoubleLE=function(e,t){return t||checkOffset(e,8,this.length),i.read(this,e,!0,52,8)},Buffer.prototype.readDoubleBE=function(e,t){return t||checkOffset(e,8,this.length),i.read(this,e,!1,52,8)},Buffer.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t|=0,r|=0,!n){checkInt(this,e,t,r,Math.pow(2,8*r)-1,0)}var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},Buffer.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t|=0,r|=0,!n){checkInt(this,e,t,r,Math.pow(2,8*r)-1,0)}var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},Buffer.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},Buffer.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):objectWriteUInt16(this,e,t,!0),t+2},Buffer.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):objectWriteUInt16(this,e,t,!1),t+2},Buffer.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):objectWriteUInt32(this,e,t,!0),t+4},Buffer.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):objectWriteUInt32(this,e,t,!1),t+4},Buffer.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);checkInt(this,e,t,r,i-1,-i)}var o=0,u=1,a=0;for(this[t]=255&e;++o<r&&(u*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/u>>0)-a&255;return t+r},Buffer.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);checkInt(this,e,t,r,i-1,-i)}var o=r-1,u=1,a=0;for(this[t+o]=255&e;--o>=0&&(u*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/u>>0)-a&255;return t+r},Buffer.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},Buffer.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):objectWriteUInt16(this,e,t,!0),t+2},Buffer.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):objectWriteUInt16(this,e,t,!1),t+2},Buffer.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):objectWriteUInt32(this,e,t,!0),t+4},Buffer.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):objectWriteUInt32(this,e,t,!1),t+4},Buffer.prototype.writeFloatLE=function(e,t,r){return writeFloat(this,e,t,!0,r)},Buffer.prototype.writeFloatBE=function(e,t,r){return writeFloat(this,e,t,!1,r)},Buffer.prototype.writeDoubleLE=function(e,t,r){return writeDouble(this,e,t,!0,r)},Buffer.prototype.writeDoubleBE=function(e,t,r){return writeDouble(this,e,t,!1,r)},Buffer.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},Buffer.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!Buffer.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0);var o;if("number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var u=Buffer.isBuffer(e)?e:utf8ToBytes(new Buffer(e,n).toString()),a=u.length;for(o=0;o<r-t;++o)this[o+t]=u[o%a]}return this};var a=/[^+\/0-9A-Za-z-_]/g}).call(t,r(66))},18:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function step(n,i){try{var o=t[n](i),u=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(u).then(function(e){step("next",e)},function(e){step("throw",e)});e(u)}return step("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n;Object.defineProperty(t,"__esModule",{value:!0}),t.WebAPI=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),u=r(70),a=_interopRequireDefault(u),s=r(71),c=_interopRequireDefault(s),f=r(51),l=_interopRequireDefault(f),p=r(72),h=_interopRequireDefault(p),y=r(73),d=_interopRequireDefault(y),b=r(74),v=_interopRequireDefault(b),_=r(32),g=_interopRequireDefault(_),w=r(75),m=_interopRequireDefault(w),k=r(76),P=_interopRequireDefault(k),x=r(77),R=_interopRequireDefault(x);"undefined"!=typeof window&&void 0===window.Xrm&&void 0!==window.parent.Xrm&&(window.Xrm=window.parent.Xrm);var E=function(e){function WebAPI(){return _classCallCheck(this,WebAPI),_possibleConstructorReturn(this,(WebAPI.__proto__||Object.getPrototypeOf(WebAPI)).apply(this,arguments))}return _inherits(WebAPI,e),o(WebAPI,null,[{key:"getEntityDefinitions",value:function(e){return g.default.getEntityDefinitions(e)}},{key:"getEntitySetName",value:function(){function getEntitySetName(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e){var t;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.getEntityDefinitions(e);case 2:return t=r.sent,r.abrupt("return",t.EntitySetName);case 4:case"end":return r.stop()}},_callee,this)}));return getEntitySetName}()},{key:"getOptionSet",value:function(e,t){return g.default.getOptionSet(e,t)}},{key:"parseEntityId",value:function(e){var t=e;if("object"===(void 0===e?"undefined":i(e))){var r=[];for(var n in e)e.hasOwnProperty(n)&&r.push(n+"='"+e[n]+"'");t=r.join(",")}else e.startsWith("{")&&e.endsWith("}")&&(t=t.substr(1,t.length-2));return t}},{key:"buildQueryString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[];if("string"==typeof e)t.push(e);else{if(e.select){var r=void 0;r="object"===i(e.select)?e.select.join(","):e.select,t.push("$select="+r)}e.top&&t.push("$top="+e.top),e.count&&t.push("$count="+e.count)}return t.length?"?"+t.join("&"):""}},{key:"context",get:function(){if(void 0!==window.Xrm)return window.Xrm.Page.context;if(void 0!==window.GetGlobalContext)return window.GetGlobalContext();throw new Error("Context is not available.")}},{key:"clientUrl",get:function(){if(!this.clntUrl){var e=void 0;try{e=this.context,this.clntUrl=e.getClientUrl()}catch(e){if("window is not defined"===e.message)throw new Error("If using NodeJS, please set clientUrl using WebAPI.clientUrl setter");throw e}}return this.clntUrl},set:function(e){this.clntUrl=e}},{key:"webAPIPath",get:function(){var e=this.version;return this.clientUrl+"/api/data/"+e}},{key:"version",get:function(){if(!this.api){var e=void 0;try{e=this.context}catch(e){if("window is not defined"===e.message)throw new Error("If using NodeJS, please set webAPI version using WebAPI.version setter");throw e}var t=e.getVersion();t||(t=window.parent.Xrm.Page.context.getVersion()),this.version=t.substr(0,3)}return this.api},set:function(e){e.startsWith("v")||(e="v"+e),this.api=e}}]),WebAPI}((0,a.default)((0,c.default)((0,h.default)((0,d.default)((0,v.default)((0,m.default)((0,P.default)((0,R.default)(l.default)))))))));t.WebAPI=E,t.default=E,void 0!==(n=function(){return E}.call(t,r,t,e))&&(e.exports=n)},32:function(e,t,r){"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function step(n,i){try{var o=t[n](i),u=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(u).then(function(e){step("next",e)},function(e){step("throw",e)});e(u)}return step("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(18),o=function(e){return e&&e.__esModule?e:{default:e}}(i),u=function(){function Metadata(){_classCallCheck(this,Metadata)}return n(Metadata,null,[{key:"getEntityDefinitions",value:function(){function getEntityDefinitions(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e){var t,r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.cachedEntityDefinitions[e]){n.next=2;break}return n.abrupt("return",this.cachedEntityDefinitions[e]);case 2:if("string"==typeof e){n.next=4;break}throw Error("Invalid logicalName given");case 4:return n.next=6,o.default.retrieveEntitySet("EntityDefinitions",null,"$filter=LogicalName eq '"+e+"'&$expand=Attributes,ManyToOneRelationships");case 6:return t=n.sent,r=t.value[0],this.cachedEntityDefinitions[e]=r,n.abrupt("return",r);case 10:case"end":return n.stop()}},_callee,this)}));return getEntityDefinitions}()},{key:"getCachedEntityDefinitions",value:function(e){return this.cachedEntityDefinitions[e]}},{key:"getOptionSet",value:function(){function getOptionSet(t,r){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(e,t){var r,n,i,o,u,a,s,c;return regeneratorRuntime.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,this.getEntityDefinitions(e);case 2:r=f.sent,n=!0,i=!1,o=void 0,f.prev=6,u=r.Attributes[Symbol.iterator]();case 8:if(n=(a=u.next()).done){f.next=22;break}if(s=a.value,s.LogicalName!==t){f.next=19;break}if("Picklist"!==(c=s.AttributeType)){f.next=16;break}return f.abrupt("return",this.getPicklistOptionSet(e,t));case 16:if("Boolean"!==c){f.next=18;break}return f.abrupt("return",this.getBooleanOptionSet(e,t));case 18:return f.abrupt("break",22);case 19:n=!0,f.next=8;break;case 22:f.next=28;break;case 24:f.prev=24,f.t0=f.catch(6),i=!0,o=f.t0;case 28:f.prev=28,f.prev=29,!n&&u.return&&u.return();case 31:if(f.prev=31,!i){f.next=34;break}throw o;case 34:return f.finish(31);case 35:return f.finish(28);case 36:case"end":return f.stop()}},_callee2,this,[[6,24,28,36],[29,,31,35]])}));return getOptionSet}()},{key:"getPicklistOptionSet",value:function(){function getPicklistOptionSet(t,r){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(e,t){var r,n;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,o.default.retrieveEntitySet("EntityDefinitions(LogicalName='"+e+"')/Attributes(LogicalName='"+t+"')/Microsoft.Dynamics.CRM.PicklistAttributeMetadata",null,"$select=LogicalName&$expand=OptionSet");case 2:return r=i.sent,n=r.OptionSet.Options.map(function(e){return{value:e.Value,label:e.Label.UserLocalizedLabel.Label}}),i.abrupt("return",n);case 5:case"end":return i.stop()}},_callee3,this)}));return getPicklistOptionSet}()},{key:"getBooleanOptionSet",value:function(){function getBooleanOptionSet(t,r){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(e,t){var r,n,i,u,a;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,o.default.retrieveEntitySet("EntityDefinitions(LogicalName='"+e+"')/Attributes(LogicalName='"+t+"')/Microsoft.Dynamics.CRM.BooleanAttributeMetadata",null,"$select=LogicalName&$expand=OptionSet");case 2:return r=s.sent,n=r.OptionSet,i=n.FalseOption,u=n.TrueOption,a=[],a.push({value:i.Value,label:i.Label.UserLocalizedLabel.Label}),a.push({value:u.Value,label:u.Label.UserLocalizedLabel.Label}),s.abrupt("return",a);case 10:case"end":return s.stop()}},_callee4,this)}));return getBooleanOptionSet}()},{key:"cachedEntityDefinitions",get:function(){return this.entityDef||(this.entityDef={}),this.entityDef}}]),Metadata}();t.default=u},353:function(e,t){t.read=function(e,t,r,n,i){var o,u,a=8*i-n-1,s=(1<<a)-1,c=s>>1,f=-7,l=r?i-1:0,p=r?-1:1,h=e[t+l];for(l+=p,o=h&(1<<-f)-1,h>>=-f,f+=a;f>0;o=256*o+e[t+l],l+=p,f-=8);for(u=o&(1<<-f)-1,o>>=-f,f+=n;f>0;u=256*u+e[t+l],l+=p,f-=8);if(0===o)o=1-c;else{if(o===s)return u?NaN:1/0*(h?-1:1);u+=Math.pow(2,n),o-=c}return(h?-1:1)*u*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var u,a,s,c=8*o-i-1,f=(1<<c)-1,l=f>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,y=n?1:-1,d=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,u=f):(u=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-u))<1&&(u--,s*=2),t+=u+l>=1?p/s:p*Math.pow(2,1-l),t*s>=2&&(u++,s/=2),u+l>=f?(a=0,u=f):u+l>=1?(a=(t*s-1)*Math.pow(2,i),u+=l):(a=t*Math.pow(2,l-1)*Math.pow(2,i),u=0));i>=8;e[r+h]=255&a,h+=y,a/=256,i-=8);for(u=u<<i|a,c+=i;c>0;e[r+h]=255&u,h+=y,u/=256,c-=8);e[r+h-y]|=128*d}},354:function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},355:function(e,t,r){e.exports=r(138)},51:function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function(){function Class(){_classCallCheck(this,Class)}return n(Class,[{key:"getClass",value:function(){return Object.getPrototypeOf(this).constructor}}]),Class}();t.default=i},66:function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},67:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function step(n,i){try{var o=t[n](i),u=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(u).then(function(e){step("next",e)},function(e){step("throw",e)});e(u)}return step("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=r(144),u=_interopRequireDefault(o),a=r(51),s=_interopRequireDefault(a),c=r(145),f=_interopRequireDefault(c),l=r(146),p=_interopRequireDefault(l),h=r(147),y=_interopRequireDefault(h),d=r(32),b=_interopRequireDefault(d),v=r(148),_=_interopRequireDefault(v),g=r(149),w=_interopRequireDefault(g),m=r(18),k=_interopRequireDefault(m),P=function(e){function Entity(e,t){_classCallCheck(this,Entity);var r=_possibleConstructorReturn(this,(Entity.__proto__||Object.getPrototypeOf(Entity)).apply(this,arguments));return r.data=e,r.logicalName=t||r.getClass().logicalName,r}return _inherits(Entity,e),i(Entity,[{key:"isNew",value:function(){function isNew(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getPrimaryId();case 2:return e=t.sent,t.abrupt("return",!e);case 4:case"end":return t.stop()}},_callee,this)}));return isNew}()},{key:"getEntityMetadata",value:function(){function getEntityMetadata(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.default.getEntityDefinitions(this.logicalName);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},_callee2,this)}));return getEntityMetadata}()},{key:"getPrimaryIdAttribute",value:function(){function getPrimaryIdAttribute(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getEntityMetadata();case 2:return e=t.sent,t.abrupt("return",e.PrimaryIdAttribute);case 4:case"end":return t.stop()}},_callee3,this)}));return getPrimaryIdAttribute}()},{key:"getPrimaryId",value:function(){function getPrimaryId(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getPrimaryIdAttribute();case 2:return e=t.sent,t.abrupt("return",this.data[e]);case 4:case"end":return t.stop()}},_callee4,this)}));return getPrimaryId}()},{key:"getAttribute",value:function(e,t){var r=this.data[t||e];if(r&&t){var n=this.getClass().getCachedEntityAttributes(this.logicalName),i=n[e],o=b.default.getCachedEntityDefinitions(i.Targets[0]);if(o){var u=o.SchemaName,a=o.PrimaryIdAttribute,s=o.PrimaryNameAttribute;r.LogicalName=u,r.Id=r[a],r.Name=r[s]}}return r}},{key:"setAttribute",value:function(e,t){var r=this.getClass().getCachedEntityAttributes(this.logicalName),i=r&&r[e];if(i||e.endsWith("@odata.bind"))if(i&&"Lookup"===i.AttributeType&&"object"!==(void 0===t?"undefined":n(t))){var o=this.logicalName;console.log(o+" attribute "+e+" is a Lookup. Use "+this.logicalName+".bind('"+e+"', '"+t+"') instead.")}else{var u=this.data[e];u!==t&&(this.data[e]=t,this.changes[e]=t)}else{var a=this.logicalName;console.log(a+" has no attribute '"+e+"'")}}},{key:"bind",value:function(){function bind(t,r,n){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(e,t,r){var n,i,o,u,a,s,c,f;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.getClass().getEntityAttributes(this.logicalName);case 2:if(n=l.sent,i=n[e],"Lookup"!==i.AttributeType){l.next=18;break}return o=k.default.webAPIPath,u=r||i.Targets[0],l.next=9,b.default.getEntityDefinitions(u);case 9:return a=l.sent,l.next=12,Entity.getNavigationProperty(e,this.logicalName,u);case 12:return s=l.sent,c=a.EntitySetName,f=o+"/"+c+"("+t+")",this.setAttribute(s+"@odata.bind",f),l.next=18,this.updateBinding(e,u,t);case 18:case"end":return l.stop()}},_callee5,this)}));return bind}()},{key:"updateBinding",value:function(){function updateBinding(t,r,n){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee6(e,t,r){var n,i,o=this;return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(n=this.getAttribute(e)){u.next=3;break}return u.abrupt("return");case 3:return i=Object.keys(n).filter(function(e){return!["Id","LogicalName","Name"].includes(e)}),u.next=6,Entity.get(t,r,{select:i}).then(function(t){var r=!0,u=!1,a=void 0;try{for(var s,c=i[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var f=s.value;n[f]=t[f]}}catch(e){u=!0,a=e}finally{try{!r&&c.return&&c.return()}finally{if(u)throw a}}o.setAttribute(e,n)});case 6:case"end":return u.stop()}},_callee6,this)}));return updateBinding}()},{key:"logicalName",get:function(){return this.logicName},set:function(e){this.logicName=e}},{key:"data",get:function(){return this.dat},set:function(e){this.dat=e}},{key:"changes",get:function(){return this.chngs||(this.chngs={}),this.chngs},set:function(e){this.chngs=e||{}}}],[{key:"getEntityAttributes",value:function(){function getEntityAttributes(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee7(){var e,t,r,n,i,o,u,a,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.logicalName;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(Entity.cachedEntityAttributes||(Entity.cachedEntityAttributes={}),!Entity.cachedEntityAttributes[s]){c.next=5;break}return c.abrupt("return",Entity.cachedEntityAttributes[s]);case 5:return c.prev=5,c.next=8,b.default.getEntityDefinitions(s);case 8:for(e=c.sent,t={},r=!0,n=!1,i=void 0,c.prev=13,o=e.Attributes[Symbol.iterator]();!(r=(u=o.next()).done);r=!0)a=u.value,t[a.LogicalName]=a;c.next=21;break;case 17:c.prev=17,c.t0=c.catch(13),n=!0,i=c.t0;case 21:c.prev=21,c.prev=22,!r&&o.return&&o.return();case 24:if(c.prev=24,!n){c.next=27;break}throw i;case 27:return c.finish(24);case 28:return c.finish(21);case 29:return Entity.cachedEntityAttributes[s]=t,c.abrupt("return",t);case 33:throw c.prev=33,c.t1=c.catch(5),c.t1;case 36:case"end":return c.stop()}},_callee7,this,[[5,33],[13,17,21,29],[22,,24,28]])}));return getEntityAttributes}()},{key:"getCachedEntityAttributes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.logicalName;return Entity.cachedEntityAttributes||(Entity.cachedEntityAttributes={}),Entity.cachedEntityAttributes[e]}}]),Entity}((0,u.default)((0,f.default)((0,p.default)((0,y.default)((0,_.default)((0,w.default)(s.default)))))));t.default=P},68:function(e,t,r){"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function step(n,i){try{var o=t[n](i),u=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(u).then(function(e){step("next",e)},function(e){step("throw",e)});e(u)}return step("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},o=r(67),u=function(e){return e&&e.__esModule?e:{default:e}}(o),a=function(e){function SubEntity(){return _classCallCheck(this,SubEntity),_possibleConstructorReturn(this,(SubEntity.__proto__||Object.getPrototypeOf(SubEntity)).apply(this,arguments))}return _inherits(SubEntity,e),n(SubEntity,null,[{key:"get",value:function(){function get(t,r){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e,t){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",i(SubEntity.__proto__||Object.getPrototypeOf(SubEntity),"get",this).call(this,this.logicalName,e,t));case 1:case"end":return r.stop()}},_callee,this)}));return get}()},{key:"query",value:function(){function query(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i(SubEntity.__proto__||Object.getPrototypeOf(SubEntity),"query",this).call(this,this.logicalName,e));case 1:case"end":return t.stop()}},_callee2,this)}));return query}()},{key:"fetch",value:function(){function fetch(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i(SubEntity.__proto__||Object.getPrototypeOf(SubEntity),"fetch",this).call(this,this.logicalName,e));case 1:case"end":return t.stop()}},_callee3,this)}));return fetch}()}]),SubEntity}(u.default);t.default=a},69:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["DELETE","GET","PATCH","POST","PUT"],i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",r=arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Promise(function(o,a){var s=new XMLHttpRequest;if(-1===n.indexOf(t))throw new Error("Request method must be one of the following: "+n.join(", "));s.open(t,encodeURI(e),!0),s.setRequestHeader("OData-MaxVersion","4.0"),s.setRequestHeader("OData-Version","4.0"),s.setRequestHeader("Accept","application/json"),s.setRequestHeader("Content-Type","application/json; charset=utf-8");for(var c in i)s.setRequestHeader(c,i[c]);s.onreadystatechange=function(){if(4===s.readyState){s.onreadystatechange=null;try{var e=u(s);o(e)}catch(e){a(e)}}};var f=null;r&&(f=JSON.stringify(r)),s.send(f)})},o=function(e,t){if("string"==typeof t){var r=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?::(\d*))?Z$/.exec(t);if(r)return new Date(Date.UTC(+r[1],+r[2]-1,+r[3],+r[4],+r[5],+r[6],+r[7]||0))}return t},u=function(e){var t={200:function(){var t=null;try{t=JSON.parse(e.response,o)}catch(e){throw new Error("JSON response can't be parsed")}return{body:t,getResponseHeader:e.getResponseHeader.bind(e),statusCode:e.status}},204:function(){return{body:null,getResponseHeader:e.getResponseHeader.bind(e),statusCode:e.status}}},r=t[e.status];if(r)return r();throw new Error("Unexpected Error")};t.default=i},70:function(e,t,r){"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function step(n,i){try{var o=t[n](i),u=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(u).then(function(e){step("next",e)},function(e){step("throw",e)});e(u)}return step("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function(e){return function(e){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}return _inherits(_class,e),n(_class,null,[{key:"executeAction",value:function(){function executeAction(t,r,n,i){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e,t,r,n){var i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=4;break}return e.abrupt("return",this.executeBoundAction.apply(this,i));case 4:return e.abrupt("return",this.executeUnboundAction.apply(this,i));case 5:case"end":return e.stop()}},_callee,this)}));return executeAction}()},{key:"executeBoundAction",value:function(){function executeBoundAction(t,r,n,i){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(e,t,r,n){var i;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.getEntitySetName(r);case 2:return i=o.sent,o.abrupt("return",this.requestAndReturnBody("POST",i+"("+n+")/Microsoft.Dynamics.CRM."+e,t));case 4:case"end":return o.stop()}},_callee2,this)}));return executeBoundAction}()},{key:"executeUnboundAction",value:function(e,t){return this.requestAndReturnBody("POST",""+e,t)}}]),_class}(e)};t.default=i},71:function(e,t,r){"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function step(n,i){try{var o=t[n](i),u=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(u).then(function(e){step("next",e)},function(e){step("throw",e)});e(u)}return step("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function(e){return function(e){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}return _inherits(_class,e),n(_class,null,[{key:"associateEntities",value:function(){function associateEntities(t,r,n,i,o){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e,t,r,n,i){var o,u,a;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.getEntitySetName(e);case 2:return o=s.sent,u=this.webAPIPath,a={"@odata.id":u+"/"+n+"("+i+")"},s.abrupt("return",this.requestAndReturnBody("POST",o+"("+t+")/"+r+"/$ref",a));case 6:case"end":return s.stop()}},_callee,this)}));return associateEntities}()},{key:"disassociateEntities",value:function(){function disassociateEntities(t,r,n,i){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(e,t,r,n){var i;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.getEntitySetName(e);case 2:return i=o.sent,o.abrupt("return",this.requestAndReturnBody("DELETE",i+"("+t+")/"+r+"("+n+")/$ref"));case 4:case"end":return o.stop()}},_callee2,this)}));return disassociateEntities}()}]),_class}(e)};t.default=i},72:function(e,t,r){"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function step(n,i){try{var o=t[n](i),u=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(u).then(function(e){step("next",e)},function(e){step("throw",e)});e(u)}return step("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function(e){return function(e){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}return _inherits(_class,e),n(_class,null,[{key:"createEntity",value:function(){function createEntity(t,r){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e,t){var r,n;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.getEntitySetName(e);case 2:return r=i.sent,i.next=5,this.requestAndReturnHeader("POST",r,t,"OData-EntityId");case 5:if(!(n=i.sent)){i.next=8;break}return i.abrupt("return",this.getEntityIdFromHeader(n));case 8:case"end":return i.stop()}},_callee,this)}));return createEntity}()},{key:"getEntityIdFromHeader",value:function(e){return/\(([^)]+)\)/.exec(e)[1]}}]),_class}(e)};t.default=i},73:function(e,t,r){"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function step(n,i){try{var o=t[n](i),u=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(u).then(function(e){step("next",e)},function(e){step("throw",e)});e(u)}return step("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function(e){return function(e){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}return _inherits(_class,e),n(_class,null,[{key:"deleteEntity",value:function(){function deleteEntity(t,r){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e,t){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.getEntitySetName(e);case 2:return r=n.sent,n.abrupt("return",this.request("DELETE",r+"("+t+")"));case 4:case"end":return n.stop()}},_callee,this)}));return deleteEntity}()}]),_class}(e)};t.default=i},74:function(e,t,r){"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function step(n,i){try{var o=t[n](i),u=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(u).then(function(e){step("next",e)},function(e){step("throw",e)});e(u)}return step("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function(e){return function(e){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}return _inherits(_class,e),n(_class,null,[{key:"executeFunction",value:function(e,t,r){return t?this.executeBoundFunction.apply(this,arguments):this.executeUnboundFunction.apply(this,arguments)}},{key:"executeBoundFunction",value:function(){function executeBoundFunction(t,r,n){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e,t,r){var n;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.getEntitySetName(t);case 2:return n=i.sent,i.abrupt("return",this.requestAndReturnBody("GET",n+"("+r+")/Microsoft.Dynamics.CRM."+e));case 4:case"end":return i.stop()}},_callee,this)}));return executeBoundFunction}()},{key:"executeUnboundFunction",value:function(e){return this.requestAndReturnBody("GET",""+e)}}]),_class}(e)};t.default=i},75:function(e,t,r){"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function step(n,i){try{var o=t[n](i),u=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(u).then(function(e){step("next",e)},function(e){step("throw",e)});e(u)}return step("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function(e){return function(e){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}return _inherits(_class,e),n(_class,null,[{key:"retrieveEntity",value:function(){function retrieveEntity(t,r,n,i){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e,t,r,n){var i;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.getEntitySetName(e);case 2:return i=o.sent,o.abrupt("return",this.retrieveEntitySet(i,t,r,n));case 4:case"end":return o.stop()}},_callee,this)}));return retrieveEntity}()},{key:"retrieveEntitySet",value:function(e,t,r,n){var i=this.buildQueryString(r),o=t?this.parseEntityId(t):null,u=""+e;return o&&(u+="("+o+")"),u+=""+i,this.requestAndReturnBody("GET",u,null,n)}},{key:"retrieveMultiple",value:function(){function retrieveMultiple(t,r,n){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(e,t,r){var n,i,o=this;return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this.getEntitySetName(e);case 2:return n=u.sent,i=this.buildQueryString(t),u.abrupt("return",this.requestAndReturnBody("GET",""+n+i,null,r).then(function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(e){var t,n;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(t=r&&r.Prefer&&r.Prefer.includes("odata.maxpagesize"),!e["@odata.nextLink"]||t){i.next=7;break}return i.next=4,o.requestNextLinks(e["@odata.nextLink"]);case 4:n=i.sent,e.value=e.value.concat(n),delete e["@odata.nextLink"];case 7:return i.abrupt("return",e);case 8:case"end":return i.stop()}},_callee2,o)}));return function(t){return e.apply(this,arguments)}}()));case 5:case"end":return u.stop()}},_callee3,this)}));return retrieveMultiple}()},{key:"requestNextLinks",value:function(e){var t=this,r=[];return this.requestAndReturnBody("GET",decodeURI(e)).then(function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(e){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.value,!e["@odata.nextLink"]){n.next=7;break}return n.t0=r,n.next=5,t.requestNextLinks(e["@odata.nextLink"]);case 5:n.t1=n.sent,r=n.t0.concat.call(n.t0,n.t1);case 7:return n.abrupt("return",r);case 8:case"end":return n.stop()}},_callee4,t)}));return function(t){return e.apply(this,arguments)}}())}},{key:"executeFetchXml",value:function(){function executeFetchXml(t,r){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee6(e,t){var r,n=this;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.getEntitySetName(e);case 2:return r=i.sent,i.abrupt("return",this.requestAndReturnBody("GET",r+"?fetchXml="+t).then(function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(e){var t;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!e["@odata.nextLink"]){r.next=6;break}return r.next=3,n.requestNextLinks(e["@odata.nextLink"]);case 3:t=r.sent,e.value=e.value.concat(t),delete e["@odata.nextLink"];case 6:return r.abrupt("return",e);case 7:case"end":return r.stop()}},_callee5,n)}));return function(t){return e.apply(this,arguments)}}()));case 4:case"end":return i.stop()}},_callee6,this)}));return executeFetchXml}()},{key:"count",value:function(){function count(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee7(e){var t,r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.getEntitySetName(e);case 2:return t=n.sent,n.next=5,this.requestAndReturnBody("GET",t+"/$count");case 5:return r=n.sent,n.abrupt("return",r);case 7:case"end":return n.stop()}},_callee7,this)}));return count}()}]),_class}(e)};t.default=i},76:function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(69),o=function(e){return e&&e.__esModule?e:{default:e}}(i),u=function(e){return function(e){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}return _inherits(_class,e),n(_class,null,[{key:"request",value:function(e,t,r,n){var i=this.webAPIPath,u=void 0;return u=0===t.indexOf("http")?t:i+"/"+t,(0,o.default)(u,e,r,n)}},{key:"requestAndReturnBody",value:function(e,t,r,n){return this.request(e,t,r,n).then(function(e){return e.body})}},{key:"requestAndReturnHeader",value:function(e,t,r,n){return this.request(e,t,r).then(function(e){return e.getResponseHeader(n)})}}]),_class}(e)};t.default=u},77:function(e,t,r){"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function step(n,i){try{var o=t[n](i),u=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(u).then(function(e){step("next",e)},function(e){step("throw",e)});e(u)}return step("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function(e){return function(e){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}return _inherits(_class,e),n(_class,null,[{key:"updateEntity",value:function(){function updateEntity(t,r,n){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e,t,r){var n;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.getEntitySetName(e);case 2:return n=i.sent,i.abrupt("return",this.request("PATCH",n+"("+t+")",r));case 4:case"end":return i.stop()}},_callee,this)}));return updateEntity}()}]),_class}(e)};t.default=i}})});